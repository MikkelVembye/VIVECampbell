<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Indtastning af data, effektstørrelsesudregning og cluster bias justering, når der kun er clustering i en gruppe • VIVECampbell</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Indtastning af data, effektstørrelsesudregning og cluster bias justering, når der kun er clustering i en gruppe">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">VIVECampbell</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/VIVECampbell.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>VIVE specific content</h6></li>
    <li><a class="dropdown-item" href="../articles/Github.html">Forbind GitHub og RStudio plus adgang til Adobe Pro</a></li>
    <li><a class="dropdown-item" href="../articles/meta-analysis-in-R.html">Kom godt i gang med metaanalyse i R</a></li>
    <li><a class="dropdown-item" href="../articles/openai.html">VIVECampbell OpenAI konto</a></li>
    <li><a class="dropdown-item" href="../articles/samle-flere-ris-filer.html">Samle mange ris-filer til en (eller flere) fil(er) i R</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>EPPI tips and manuals</h6></li>
    <li><a class="dropdown-item" href="../articles/eppi-tips.html">Tips og tricks til EPPI</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Effect size calculation</h6></li>
    <li><a class="dropdown-item" href="../articles/Entering-data.html">Indtastning af data, effektstørrelsesudregning og cluster bias justering, når der kun er clustering i en gruppe</a></li>
    <li><a class="dropdown-item" href="../articles/Pooling-subgroups.html">Pooling across (multiple) subgroups</a></li>
    <li><a class="dropdown-item" href="../articles/ancova-puzzler.html">An ANCOVA puzzler</a></li>
    <li><a class="dropdown-item" href="../articles/es-calc-uden-means-og-sds.html">Effektstørrelsesudregning uden means og SDs (med eksempler)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/MikkelVembye/VIVECampbell/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Indtastning af data, effektstørrelsesudregning og cluster bias justering, når der kun er clustering i en gruppe</h1>
                        <h4 data-toc-skip class="author">Mikkel H.
Vembye</h4>
            
            <h4 data-toc-skip class="date">Last modified 2024-08-09</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/MikkelVembye/VIVECampbell/blob/main/vignettes/Entering-data.Rmd" class="external-link"><code>vignettes/Entering-data.Rmd</code></a></small>
      <div class="d-none name"><code>Entering-data.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduktion">Introduktion<a class="anchor" aria-label="anchor" href="#introduktion"></a>
</h2>
<div class="warning" style="margin-left:2em; margin-right:2em; margin-bottom:2em; margin-top:2em; padding:0.1em; background-color: #d7dbdd; border: solid #bdc3c7 3px">
<span>
<p style="margin-top:1em; text-align:center">
<b>Vigtig note</b>
</p>
<p style="margin:1em">
Hvis du endnu ikke har arbejdet med R, så har <a href="https://www.vive.dk/da/medarbejdere/jens-dietrichson-06zk186j/" class="external-link">Jens</a>
og jeg skrevet den lille blog <a href="https://mikkelvembye.github.io/VIVECampbell/articles/meta-analysis-in-R.html">“Kom
godt i gang med metaanalyse i R”</a>, som jeg vil anbefale at gennemse
sammen med denne blog. Alternativ kan de også være en god ide at læse
det første kapitel i <a href="https://r4ds.had.co.nz/" class="external-link">R4DS</a>.
Nedenfor loader jeg en række af de pakker som vi ofteste benytter i
forbindelse med dataindtastning og effektstørrelsesudregning. Dog vil
jeg fremhæve, at den langt vigtigste af disse pakker er <a href="https://dplyr.tidyverse.org/" class="external-link"><code>dplyr</code></a>. Det kan være
en ret stor fordel at blive god til grundfunktionerne i denne pakke,
dvs. <code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter()</a></code>, <code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate()</a></code>,
<code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by()</a></code>, <code><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise()</a></code>,
<code><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange()</a></code> og <code><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select()</a></code>.
</p>
<p></p></span>
</div>
<p><br></p>
<p>Denne vignette/blog er tiltænkt at skulle være en basic introduktion
til en række vigtige emner, som er relevante, når man skal indtaste
komplex resultatdata og beregne effektstørrelser fra studier, som skal
med i vores systematiske reviews. En vigtig del af vignetten handler om
at vise, hvordan man benytter funktionerne
<code><a href="../reference/vgt_smd_1armcluster.html">vgt_smd_1armcluster()</a></code>, <code><a href="../reference/df_h_1armcluster.html">df_h_1armcluster()</a></code>,
<code><a href="../reference/eta_1armcluster.html">eta_1armcluster()</a></code> og <code><a href="../reference/gamma_1armcluster.html">gamma_1armcluster()</a></code> fra
<code>VIVECampbell</code> R pakken. Vignetten er opbygget som følger: I
første del gennemgår jeg, hvordan kompleks data indtastes, og jeg taler
kort om, hvilket fejl man typisk laver, når man indtaster data. Derefter
viser jeg tre af de mest normale/typiske effektstørrelser, som man
støder på i socialvidenskaben. Herefter viser jeg, hvordan disse kan
beregnes. Jeg viser blandt andet, hvordan man ofte kan beregne
pre-posttest korrelationer mellem outcomes, når vise datastrukturer
afrapporteres i primær forskningen. I den sidste del, viser jeg, hvordan
vi kan kluster bias korrigere vores effekter, når der kun er klustering
i en gruppe samt hvordan man kan estimere varians-covarians matricer for
studier med flere treatment (og/eller kontrol) grupper. Her viser jeg
hvordan man kan benytte <code><a href="https://wviechtb.github.io/metafor/reference/vcalc.html" class="external-link">vcalc()</a></code> funktionen fra
<code>metafor</code>-pakken. Afsluttende viser jeg, hvordan man kan
visualisere den konstruerede effektstørrelsesdata.</p>
<div class="section level3">
<h3 id="nødvendige-pakker-og-hjælpsomme-options">Nødvendige pakker og hjælpsomme options<a class="anchor" aria-label="anchor" href="#n%C3%B8dvendige-pakker-og-hj%C3%A6lpsomme-options"></a>
</h3>
<p>Når du er klar til at gå ombord i denne blog, kan du nedenfor se, de
pakker som bloggen trækker på. Ud fra hver pakke har jeg beskrevet, hvad
pakkens eller optionens primære rolle er. For at hente
<code>VIVECampbell</code> skal i fjerne # foran hhv.
<code>install.packages("devtools")</code> og
<code>devtools::install_github("MikkelVembye/VIVECampbell")</code> og så
køre disse koder. Dette skal kun gøre første gang man kører koderne. Dog
ikke nødvendigt at gøre, hvis man allerede har hentet
<code>VIVECampbell</code>-pakken.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#install.packages("devtools")</span></span>
<span><span class="co">#devtools::install_github("MikkelVembye/VIVECampbell")</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mikkelvembye.github.io/VIVECampbell/">VIVECampbell</a></span><span class="op">)</span> <span class="co"># Indholder funktioner til at udføre cluster bias justeringer</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://purrr.tidyverse.org/" class="external-link">purrr</a></span><span class="op">)</span> <span class="co"># Indeholde vigtige loop (map) funktioner, der gør det let at gentage mange ens udregninger og dataændringer</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span> <span class="co"># Nøglepakke til at manipulere data</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span> <span class="co"># Indeholder vigtige pivot_ funktioner, som hjælper med at ændre dataset fra wide til long format vice versa</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gt.rstudio.com" class="external-link">gt</a></span><span class="op">)</span>    <span class="co"># Tabelkonstruktionens svar på ggplot2</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span> <span class="co"># Til at visualisere plot</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span> <span class="co"># En type af data.frames som er mere effektive. I vil se, at jeg altid arbejder med tibbler og ikke rå data.frames</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.metafor-project.org" class="external-link">metafor</a></span><span class="op">)</span> <span class="co"># benytte vi til at beregne variance-covariance matrix</span></span>
<span></span>
<span><span class="co"># Options som jeg for det mest benytter</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>pillar.sigfig <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="co"># Resultater printes med 4 decimaler</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>tibble.width <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span> <span class="co"># Sikre at alle variabler printes</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>dplyr.print_min <span class="op">=</span> <span class="fl">310</span><span class="op">)</span> <span class="co"># Antal rækker som printes fra et datasæt</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>scipen <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="co"># Indikerer hvormange decimaler der skal være før R printer videnskabelige numre</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>dplyr.summarise.inform <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co"># Undgår info fra summarize() fra dplyr</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="kompleks-resultdata-og-hvordan-den-kan-indtastes-long-format">Kompleks resultdata og hvordan den kan indtastes (long-format)<a class="anchor" aria-label="anchor" href="#kompleks-resultdata-og-hvordan-den-kan-indtastes-long-format"></a>
</h2>
<p>Når vi laver systematiske reviews, støder vi meget tit på studier,
som afrapporterer rigtig mange resultater, som er relevante for vores
review. Et typisk eksempel kan se ud som Tabel 1 nedenfor fra Fisher
&amp; Bentley <span class="citation">(<a href="#ref-Fisher1996">1996</a>)</span>.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;Det vigtigt here at sige her, at Tabel 1 kunne bruges
som et fiktivt eksempel, så man kan ikke drage nogen substantielle
fortolkninger af denne blog. Tabel 1 er udelukkende konstrueret for
eksempels skyld.&lt;/p&gt;"><sup>1</sup></a></p>
<div id="mwlefoodfi" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#mwlefoodfi table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#mwlefoodfi thead, #mwlefoodfi tbody, #mwlefoodfi tfoot, #mwlefoodfi tr, #mwlefoodfi td, #mwlefoodfi th {
  border-style: none;
}

#mwlefoodfi p {
  margin: 0;
  padding: 0;
}

#mwlefoodfi .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#mwlefoodfi .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#mwlefoodfi .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#mwlefoodfi .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#mwlefoodfi .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#mwlefoodfi .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#mwlefoodfi .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#mwlefoodfi .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#mwlefoodfi .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#mwlefoodfi .gt_spanner_row {
  border-bottom-style: hidden;
}

#mwlefoodfi .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#mwlefoodfi .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#mwlefoodfi .gt_from_md > :first-child {
  margin-top: 0;
}

#mwlefoodfi .gt_from_md > :last-child {
  margin-bottom: 0;
}

#mwlefoodfi .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#mwlefoodfi .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#mwlefoodfi .gt_row_group_first td {
  border-top-width: 2px;
}

#mwlefoodfi .gt_row_group_first th {
  border-top-width: 2px;
}

#mwlefoodfi .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#mwlefoodfi .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#mwlefoodfi .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#mwlefoodfi .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#mwlefoodfi .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_left {
  text-align: left;
}

#mwlefoodfi .gt_center {
  text-align: center;
}

#mwlefoodfi .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#mwlefoodfi .gt_font_normal {
  font-weight: normal;
}

#mwlefoodfi .gt_font_bold {
  font-weight: bold;
}

#mwlefoodfi .gt_font_italic {
  font-style: italic;
}

#mwlefoodfi .gt_super {
  font-size: 65%;
}

#mwlefoodfi .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#mwlefoodfi .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#mwlefoodfi .gt_indent_1 {
  text-indent: 5px;
}

#mwlefoodfi .gt_indent_2 {
  text-indent: 10px;
}

#mwlefoodfi .gt_indent_3 {
  text-indent: 15px;
}

#mwlefoodfi .gt_indent_4 {
  text-indent: 20px;
}

#mwlefoodfi .gt_indent_5 {
  text-indent: 25px;
}

#mwlefoodfi .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#mwlefoodfi div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading">
<td colspan="13" class="gt_heading gt_title gt_font_normal" style><span class="gt_from_md"><strong>Tabel 1</strong></span></td>
    </tr>
<tr class="gt_heading">
<td colspan="13" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style><span class="gt_from_md"><em>Reproduceret med inspiration fra Tabel 4 i Fisher (1996, p. 1248)</em></span></td>
    </tr>
<tr class="gt_col_headings gt_spanner_row">
<th rowspan="1" colspan="1" scope="col"></th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="6" scope="colgroup" id="Inpatient setting">
        <span class="gt_column_spanner">Inpatient setting</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="6" scope="colgroup" id="Outpatient setting">
        <span class="gt_column_spanner">Outpatient setting</span>
      </th>
    </tr>
<tr class="gt_col_headings gt_spanner_row">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" scope="col" id="&lt;span class='gt_from_md'&gt;Subscale and&lt;br&gt;therapy group&lt;/span&gt;"><span class="gt_from_md">Subscale and<br>therapy group</span></th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="Pretest&lt;br&gt;score">
        <span class="gt_column_spanner">Pretest<br>score</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="Posttest&lt;br&gt;score">
        <span class="gt_column_spanner">Posttest<br>score</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;br&gt;Difference">
        <span class="gt_column_spanner"><br>Difference</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="Pretest&lt;br&gt;score ">
        <span class="gt_column_spanner">Pretest<br>score </span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="Posttest&lt;br&gt;score ">
        <span class="gt_column_spanner">Posttest<br>score </span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;br&gt;Difference ">
        <span class="gt_column_spanner"><br>Difference </span>
      </th>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Mean">Mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="SD">SD</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Mean">Mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="SD">SD</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Mean">Mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="SD">SD</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Mean">Mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="SD">SD</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Mean">Mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="SD">SD</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Mean">Mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="SD">SD</th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<th colspan="13" class="gt_group_heading" scope="colgroup" id="Alcohol use">Alcohol use</th>
    </tr>
<tr class="gt_row_group_first">
<th id="stub_1_1" scope="row" class="gt_row gt_left gt_stub">Disease-and-recovery group</th>
<td headers="Alcohol use stub_1_1 Pretest_m" class="gt_row gt_right">.469</td>
<td headers="Alcohol use stub_1_1 Pretest_sd" class="gt_row gt_right">.12</td>
<td headers="Alcohol use stub_1_1 Posttest_m" class="gt_row gt_right">.070</td>
<td headers="Alcohol use stub_1_1 Posttest_sd" class="gt_row gt_right">.11</td>
<td headers="Alcohol use stub_1_1 Diff_m" class="gt_row gt_right">.399</td>
<td headers="Alcohol use stub_1_1 Diff_sd" class="gt_row gt_right">.02</td>
<td headers="Alcohol use stub_1_1 Pretest_m2" class="gt_row gt_right">.725</td>
<td headers="Alcohol use stub_1_1 Pretest_sd2" class="gt_row gt_right">.11</td>
<td headers="Alcohol use stub_1_1 Posttest_m2" class="gt_row gt_right">.521</td>
<td headers="Alcohol use stub_1_1 Posttest_sd2" class="gt_row gt_right">.11</td>
<td headers="Alcohol use stub_1_1 Diff_m2" class="gt_row gt_right">.204</td>
<td headers="Alcohol use stub_1_1 Diff_sd2" class="gt_row gt_right">.01</td>
</tr>
<tr>
<th id="stub_1_2" scope="row" class="gt_row gt_left gt_stub">Cognitive-behavioral group</th>
<td headers="Alcohol use stub_1_2 Pretest_m" class="gt_row gt_right">.441</td>
<td headers="Alcohol use stub_1_2 Pretest_sd" class="gt_row gt_right">.13</td>
<td headers="Alcohol use stub_1_2 Posttest_m" class="gt_row gt_right">.018</td>
<td headers="Alcohol use stub_1_2 Posttest_sd" class="gt_row gt_right">.05</td>
<td headers="Alcohol use stub_1_2 Diff_m" class="gt_row gt_right">.423</td>
<td headers="Alcohol use stub_1_2 Diff_sd" class="gt_row gt_right">.09</td>
<td headers="Alcohol use stub_1_2 Pretest_m2" class="gt_row gt_right">.598</td>
<td headers="Alcohol use stub_1_2 Pretest_sd2" class="gt_row gt_right">.16</td>
<td headers="Alcohol use stub_1_2 Posttest_m2" class="gt_row gt_right">.152</td>
<td headers="Alcohol use stub_1_2 Posttest_sd2" class="gt_row gt_right">.15</td>
<td headers="Alcohol use stub_1_2 Diff_m2" class="gt_row gt_right">.446</td>
<td headers="Alcohol use stub_1_2 Diff_sd2" class="gt_row gt_right">.02</td>
</tr>
<tr>
<th id="stub_1_3" scope="row" class="gt_row gt_left gt_stub">Usual individual treatment</th>
<td headers="Alcohol use stub_1_3 Pretest_m" class="gt_row gt_right">.349</td>
<td headers="Alcohol use stub_1_3 Pretest_sd" class="gt_row gt_right">.22</td>
<td headers="Alcohol use stub_1_3 Posttest_m" class="gt_row gt_right">.141</td>
<td headers="Alcohol use stub_1_3 Posttest_sd" class="gt_row gt_right">.21</td>
<td headers="Alcohol use stub_1_3 Diff_m" class="gt_row gt_right">.208</td>
<td headers="Alcohol use stub_1_3 Diff_sd" class="gt_row gt_right">.04</td>
<td headers="Alcohol use stub_1_3 Pretest_m2" class="gt_row gt_right">.682</td>
<td headers="Alcohol use stub_1_3 Pretest_sd2" class="gt_row gt_right">.17</td>
<td headers="Alcohol use stub_1_3 Posttest_m2" class="gt_row gt_right">.492</td>
<td headers="Alcohol use stub_1_3 Posttest_sd2" class="gt_row gt_right">.27</td>
<td headers="Alcohol use stub_1_3 Diff_m2" class="gt_row gt_right">.190</td>
<td headers="Alcohol use stub_1_3 Diff_sd2" class="gt_row gt_right">.11</td>
</tr>
<tr class="gt_group_heading_row">
<th colspan="13" class="gt_group_heading" scope="colgroup" id="Drug use">Drug use</th>
    </tr>
<tr class="gt_row_group_first">
<th id="stub_1_4" scope="row" class="gt_row gt_left gt_stub">Disease-and-recovery group</th>
<td headers="Drug use stub_1_4 Pretest_m" class="gt_row gt_right">.107</td>
<td headers="Drug use stub_1_4 Pretest_sd" class="gt_row gt_right">.09</td>
<td headers="Drug use stub_1_4 Posttest_m" class="gt_row gt_right">.001</td>
<td headers="Drug use stub_1_4 Posttest_sd" class="gt_row gt_right">.01</td>
<td headers="Drug use stub_1_4 Diff_m" class="gt_row gt_right">.106</td>
<td headers="Drug use stub_1_4 Diff_sd" class="gt_row gt_right">.09</td>
<td headers="Drug use stub_1_4 Pretest_m2" class="gt_row gt_right">.219</td>
<td headers="Drug use stub_1_4 Pretest_sd2" class="gt_row gt_right">.11</td>
<td headers="Drug use stub_1_4 Posttest_m2" class="gt_row gt_right">.167</td>
<td headers="Drug use stub_1_4 Posttest_sd2" class="gt_row gt_right">.10</td>
<td headers="Drug use stub_1_4 Diff_m2" class="gt_row gt_right">.052</td>
<td headers="Drug use stub_1_4 Diff_sd2" class="gt_row gt_right">.02</td>
</tr>
<tr>
<th id="stub_1_5" scope="row" class="gt_row gt_left gt_stub">Cognitive-behavioral group</th>
<td headers="Drug use stub_1_5 Pretest_m" class="gt_row gt_right">.116</td>
<td headers="Drug use stub_1_5 Pretest_sd" class="gt_row gt_right">.10</td>
<td headers="Drug use stub_1_5 Posttest_m" class="gt_row gt_right">.008</td>
<td headers="Drug use stub_1_5 Posttest_sd" class="gt_row gt_right">.02</td>
<td headers="Drug use stub_1_5 Diff_m" class="gt_row gt_right">.108</td>
<td headers="Drug use stub_1_5 Diff_sd" class="gt_row gt_right">.09</td>
<td headers="Drug use stub_1_5 Pretest_m2" class="gt_row gt_right">.200</td>
<td headers="Drug use stub_1_5 Pretest_sd2" class="gt_row gt_right">.12</td>
<td headers="Drug use stub_1_5 Posttest_m2" class="gt_row gt_right">.044</td>
<td headers="Drug use stub_1_5 Posttest_sd2" class="gt_row gt_right">.05</td>
<td headers="Drug use stub_1_5 Diff_m2" class="gt_row gt_right">.196</td>
<td headers="Drug use stub_1_5 Diff_sd2" class="gt_row gt_right">.08</td>
</tr>
<tr>
<th id="stub_1_6" scope="row" class="gt_row gt_left gt_stub">Usual individual treatment</th>
<td headers="Drug use stub_1_6 Pretest_m" class="gt_row gt_right">.117</td>
<td headers="Drug use stub_1_6 Pretest_sd" class="gt_row gt_right">.12</td>
<td headers="Drug use stub_1_6 Posttest_m" class="gt_row gt_right">.087</td>
<td headers="Drug use stub_1_6 Posttest_sd" class="gt_row gt_right">.12</td>
<td headers="Drug use stub_1_6 Diff_m" class="gt_row gt_right">.030</td>
<td headers="Drug use stub_1_6 Diff_sd" class="gt_row gt_right">.02</td>
<td headers="Drug use stub_1_6 Pretest_m2" class="gt_row gt_right">.322</td>
<td headers="Drug use stub_1_6 Pretest_sd2" class="gt_row gt_right">.05</td>
<td headers="Drug use stub_1_6 Posttest_m2" class="gt_row gt_right">.216</td>
<td headers="Drug use stub_1_6 Posttest_sd2" class="gt_row gt_right">.15</td>
<td headers="Drug use stub_1_6 Diff_m2" class="gt_row gt_right">.106</td>
<td headers="Drug use stub_1_6 Diff_sd2" class="gt_row gt_right">.11</td>
</tr>
<tr class="gt_group_heading_row">
<th colspan="13" class="gt_group_heading" scope="colgroup" id="Social and family relations">Social and family relations</th>
    </tr>
<tr class="gt_row_group_first">
<th id="stub_1_7" scope="row" class="gt_row gt_left gt_stub">Disease-and-recovery group</th>
<td headers="Social and family relations stub_1_7 Pretest_m" class="gt_row gt_right">.342</td>
<td headers="Social and family relations stub_1_7 Pretest_sd" class="gt_row gt_right">.21</td>
<td headers="Social and family relations stub_1_7 Posttest_m" class="gt_row gt_right">.083</td>
<td headers="Social and family relations stub_1_7 Posttest_sd" class="gt_row gt_right">.10</td>
<td headers="Social and family relations stub_1_7 Diff_m" class="gt_row gt_right">.259</td>
<td headers="Social and family relations stub_1_7 Diff_sd" class="gt_row gt_right">.13</td>
<td headers="Social and family relations stub_1_7 Pretest_m2" class="gt_row gt_right">.683</td>
<td headers="Social and family relations stub_1_7 Pretest_sd2" class="gt_row gt_right">.04</td>
<td headers="Social and family relations stub_1_7 Posttest_m2" class="gt_row gt_right">.641</td>
<td headers="Social and family relations stub_1_7 Posttest_sd2" class="gt_row gt_right">.06</td>
<td headers="Social and family relations stub_1_7 Diff_m2" class="gt_row gt_right">.042</td>
<td headers="Social and family relations stub_1_7 Diff_sd2" class="gt_row gt_right">.03</td>
</tr>
<tr>
<th id="stub_1_8" scope="row" class="gt_row gt_left gt_stub">Cognitive-behavioral group</th>
<td headers="Social and family relations stub_1_8 Pretest_m" class="gt_row gt_right">.419</td>
<td headers="Social and family relations stub_1_8 Pretest_sd" class="gt_row gt_right">.12</td>
<td headers="Social and family relations stub_1_8 Posttest_m" class="gt_row gt_right">.103</td>
<td headers="Social and family relations stub_1_8 Posttest_sd" class="gt_row gt_right">.10</td>
<td headers="Social and family relations stub_1_8 Diff_m" class="gt_row gt_right">.316</td>
<td headers="Social and family relations stub_1_8 Diff_sd" class="gt_row gt_right">.03</td>
<td headers="Social and family relations stub_1_8 Pretest_m2" class="gt_row gt_right">.584</td>
<td headers="Social and family relations stub_1_8 Pretest_sd2" class="gt_row gt_right">.05</td>
<td headers="Social and family relations stub_1_8 Posttest_m2" class="gt_row gt_right">.233</td>
<td headers="Social and family relations stub_1_8 Posttest_sd2" class="gt_row gt_right">.16</td>
<td headers="Social and family relations stub_1_8 Diff_m2" class="gt_row gt_right">.351</td>
<td headers="Social and family relations stub_1_8 Diff_sd2" class="gt_row gt_right">.12</td>
</tr>
<tr>
<th id="stub_1_9" scope="row" class="gt_row gt_left gt_stub">Usual individual treatment</th>
<td headers="Social and family relations stub_1_9 Pretest_m" class="gt_row gt_right">.450</td>
<td headers="Social and family relations stub_1_9 Pretest_sd" class="gt_row gt_right">.24</td>
<td headers="Social and family relations stub_1_9 Posttest_m" class="gt_row gt_right">.489</td>
<td headers="Social and family relations stub_1_9 Posttest_sd" class="gt_row gt_right">.18</td>
<td headers="Social and family relations stub_1_9 Diff_m" class="gt_row gt_right">-.039</td>
<td headers="Social and family relations stub_1_9 Diff_sd" class="gt_row gt_right">.07</td>
<td headers="Social and family relations stub_1_9 Pretest_m2" class="gt_row gt_right">.571</td>
<td headers="Social and family relations stub_1_9 Pretest_sd2" class="gt_row gt_right">.09</td>
<td headers="Social and family relations stub_1_9 Posttest_m2" class="gt_row gt_right">.514</td>
<td headers="Social and family relations stub_1_9 Posttest_sd2" class="gt_row gt_right">.12</td>
<td headers="Social and family relations stub_1_9 Diff_m2" class="gt_row gt_right">.057</td>
<td headers="Social and family relations stub_1_9 Diff_sd2" class="gt_row gt_right">.04</td>
</tr>
<tr class="gt_group_heading_row">
<th colspan="13" class="gt_group_heading" scope="colgroup" id="Psychological functioning">Psychological functioning</th>
    </tr>
<tr class="gt_row_group_first">
<th id="stub_1_10" scope="row" class="gt_row gt_left gt_stub">Disease-and-recovery group</th>
<td headers="Psychological functioning stub_1_10 Pretest_m" class="gt_row gt_right">.393</td>
<td headers="Psychological functioning stub_1_10 Pretest_sd" class="gt_row gt_right">.17</td>
<td headers="Psychological functioning stub_1_10 Posttest_m" class="gt_row gt_right">.319</td>
<td headers="Psychological functioning stub_1_10 Posttest_sd" class="gt_row gt_right">.14</td>
<td headers="Psychological functioning stub_1_10 Diff_m" class="gt_row gt_right">.074</td>
<td headers="Psychological functioning stub_1_10 Diff_sd" class="gt_row gt_right">.04</td>
<td headers="Psychological functioning stub_1_10 Pretest_m2" class="gt_row gt_right">.464</td>
<td headers="Psychological functioning stub_1_10 Pretest_sd2" class="gt_row gt_right">.14</td>
<td headers="Psychological functioning stub_1_10 Posttest_m2" class="gt_row gt_right">.432</td>
<td headers="Psychological functioning stub_1_10 Posttest_sd2" class="gt_row gt_right">.18</td>
<td headers="Psychological functioning stub_1_10 Diff_m2" class="gt_row gt_right">.032</td>
<td headers="Psychological functioning stub_1_10 Diff_sd2" class="gt_row gt_right">.05</td>
</tr>
<tr>
<th id="stub_1_11" scope="row" class="gt_row gt_left gt_stub">Cognitive-behavioral group</th>
<td headers="Psychological functioning stub_1_11 Pretest_m" class="gt_row gt_right">.498</td>
<td headers="Psychological functioning stub_1_11 Pretest_sd" class="gt_row gt_right">.13</td>
<td headers="Psychological functioning stub_1_11 Posttest_m" class="gt_row gt_right">.442</td>
<td headers="Psychological functioning stub_1_11 Posttest_sd" class="gt_row gt_right">.16</td>
<td headers="Psychological functioning stub_1_11 Diff_m" class="gt_row gt_right">.056</td>
<td headers="Psychological functioning stub_1_11 Diff_sd" class="gt_row gt_right">.04</td>
<td headers="Psychological functioning stub_1_11 Pretest_m2" class="gt_row gt_right">.476</td>
<td headers="Psychological functioning stub_1_11 Pretest_sd2" class="gt_row gt_right">.12</td>
<td headers="Psychological functioning stub_1_11 Posttest_m2" class="gt_row gt_right">.232</td>
<td headers="Psychological functioning stub_1_11 Posttest_sd2" class="gt_row gt_right">.07</td>
<td headers="Psychological functioning stub_1_11 Diff_m2" class="gt_row gt_right">.244</td>
<td headers="Psychological functioning stub_1_11 Diff_sd2" class="gt_row gt_right">.06</td>
</tr>
<tr>
<th id="stub_1_12" scope="row" class="gt_row gt_left gt_stub">Usual individual treatment</th>
<td headers="Psychological functioning stub_1_12 Pretest_m" class="gt_row gt_right">.605</td>
<td headers="Psychological functioning stub_1_12 Pretest_sd" class="gt_row gt_right">.15</td>
<td headers="Psychological functioning stub_1_12 Posttest_m" class="gt_row gt_right">.601</td>
<td headers="Psychological functioning stub_1_12 Posttest_sd" class="gt_row gt_right">.18</td>
<td headers="Psychological functioning stub_1_12 Diff_m" class="gt_row gt_right">.004</td>
<td headers="Psychological functioning stub_1_12 Diff_sd" class="gt_row gt_right">.04</td>
<td headers="Psychological functioning stub_1_12 Pretest_m2" class="gt_row gt_right">.487</td>
<td headers="Psychological functioning stub_1_12 Pretest_sd2" class="gt_row gt_right">.16</td>
<td headers="Psychological functioning stub_1_12 Posttest_m2" class="gt_row gt_right">.472</td>
<td headers="Psychological functioning stub_1_12 Posttest_sd2" class="gt_row gt_right">.18</td>
<td headers="Psychological functioning stub_1_12 Diff_m2" class="gt_row gt_right">.015</td>
<td headers="Psychological functioning stub_1_12 Diff_sd2" class="gt_row gt_right">.03</td>
</tr>
</tbody>
</table>
</div>
<p>Som det kan ses her, er den resultatsdata som skal udtrækkes relativ
kompleks med pretest, posttest og difference mål nested inden for
treatment grupper (dvs. Disease-and-recovery, Coginitive behavioral og
TAU grupperne), som er nestet inden for kontekster/settings (dvs.
Inpatient og Outpatient settings), som igen er nestet inden for outcomes
(dvs. Alcohol use, Drug use, Social and family relations samt
Psychological functioning). Jeg vil senere vise, hvordan man kan arbejde
med effektstørrelsesdata, hvor man har mere end en treatment- eller
kontrolgruppe. Men først lidt introduktion til en vigtig basic funktion.
Når man vil konstruere et datasæt i R er en vigtig
<code>base::</code>-funktion at kende til den som hedder
<code><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep()</a></code>. Den tillader at replikere de samme værdier på
forskellig vis inden for en given variabel. Nedenfor at vise en række
eksempler på, hvordan denne kan bruges.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Her replikeres den samme værdirækkefølge x (dvs. i dette tilfæde 4) gange</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "A" "B" "C" "A" "B" "C" "A" "B" "C" "A" "B" "C"</span></span>
<span></span>
<span><span class="co"># Her replikeres hver værdi x (dvs. i dette tilfæde 3) gange</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, each <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "A" "A" "A" "B" "B" "B" "C" "C" "C"</span></span>
<span></span>
<span><span class="co"># Ovenstående operationer kan også kombineres</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, each <span class="op">=</span> <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "A" "A" "B" "B" "C" "C" "A" "A" "B" "B" "C" "C"</span></span>
<span></span>
<span><span class="co"># Man kan også skabe en variable med en fast antal gentagelser således</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, length.out <span class="op">=</span> <span class="fl">11</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "A" "B" "C" "A" "B" "C" "A" "B" "C" "A" "B"</span></span>
<span></span>
<span><span class="co"># Igen alle disse operationer kan kombineres i samme funktion</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, each <span class="op">=</span> <span class="fl">2</span>, <span class="fl">2</span>, length.out <span class="op">=</span> <span class="fl">11</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "A" "A" "B" "B" "C" "C" "A" "A" "B" "B" "C"</span></span></code></pre></div>
<p>Nedenfor viser jeg, hvordan man kunne indtaste data fra Tabel 1 vha.
<code><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble()</a></code> samt <code><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep()</a></code>. Måden, hvorpå jeg
indtaster data kaldes af nogen for long format data, hvor hver treatment
gruppernes (dvs. Disease-and-recovery, Coginitive behavioral og TAU)
resultater repræsenteret i hver deres række. Jeg vil senere i bloggen
tale og vise forskellen på long og wide-format data (hvor hver
effektstørrelse har en række), og hvordan man benytter
<code><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer()</a></code> og <code><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider()</a></code> fra
<code>tidyr</code>-pakken til at skifte mellem disse to formater.
<br></p>
<p><br></p>
<p>Når man indtaster data, kan det være en klar fordel at konstruere
treatment/group variabel sådan at treatment gruppen/grupperne kommer
indtastet før kontrol gruppen. Hvis dette gøres er det i hvert fald
lettere at genbruge mine koder fra tidligere projekter, da det altid er
måden jeg gør det på. Derudover benytter jeg aldrig store start
bogstaver, når jeg laver variabelnavne. Det er kun værdierne inden for
en variabel, jeg kan finde på at give store bogstaver.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">Fisher1996</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  </span>
<span>  outcome <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Alcohol use"</span>, <span class="st">"Drug use"</span>, <span class="st">"Social"</span>, <span class="st">"Psych func"</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">6</span><span class="op">)</span>, </span>
<span>  </span>
<span>  setting <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Inpatient"</span>, <span class="st">"Outpatient"</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>  </span>
<span>  treatment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Disease"</span>, <span class="st">"Cognitive"</span>, <span class="st">"TAU"</span><span class="op">)</span>, <span class="fl">8</span><span class="op">)</span>,</span>
<span>  </span>
<span>  N <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>,<span class="fl">6</span>,<span class="fl">7</span><span class="op">)</span>, <span class="fl">8</span><span class="op">)</span>, </span>
<span>  </span>
<span>  m_pre <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    </span>
<span>    <span class="co"># Alle værider som er indtaster i de andre variable har samme rækkefølge som denne variabel</span></span>
<span>    <span class="co"># Det er altid en god ide at skrive en vha. # som viser hvilket outcome der indtastes</span></span>
<span>    </span>
<span>    <span class="fl">.469</span>, <span class="fl">.441</span>, <span class="fl">.349</span>, <span class="co"># Alcohol use - inpatient</span></span>
<span>    <span class="fl">.725</span>, <span class="fl">.598</span>, <span class="fl">.682</span>, <span class="co"># Alcohol use - outpatient</span></span>
<span>    </span>
<span>    <span class="fl">.107</span>, <span class="fl">.116</span>, <span class="fl">.117</span>, <span class="co"># Drug use - inpatient </span></span>
<span>    <span class="fl">.219</span>, <span class="fl">.200</span>, <span class="fl">.322</span>, <span class="co"># Drug use - outpatient</span></span>
<span>    </span>
<span>    <span class="fl">.342</span>, <span class="fl">.419</span>, <span class="fl">.450</span>, <span class="co"># Social and family relations - inpatient</span></span>
<span>    <span class="fl">.683</span>, <span class="fl">.584</span>, <span class="fl">.571</span>, <span class="co"># Social and family relations - outpatient</span></span>
<span>    </span>
<span>    <span class="fl">.393</span>, <span class="fl">.498</span>, <span class="fl">.605</span>, <span class="co"># Psychological functioning - inpatient  </span></span>
<span>    <span class="fl">.464</span>, <span class="fl">.476</span>, <span class="fl">.487</span>  <span class="co"># Psychological functioning - outpatient</span></span>
<span>    </span>
<span>    </span>
<span>  <span class="op">)</span>,</span>
<span>  </span>
<span>  sd_pre <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="fl">.12</span>, <span class="fl">.13</span>, <span class="fl">.22</span>,</span>
<span>    <span class="fl">.11</span>, <span class="fl">.16</span>, <span class="fl">.17</span>,</span>
<span>    </span>
<span>    <span class="fl">.09</span>, <span class="fl">.10</span>, <span class="fl">.12</span>,</span>
<span>    <span class="fl">.11</span>, <span class="fl">.12</span>, <span class="fl">.05</span>,</span>
<span>    </span>
<span>    <span class="fl">.21</span>, <span class="fl">.12</span>, <span class="fl">.24</span>,</span>
<span>    <span class="fl">.04</span>, <span class="fl">.05</span>, <span class="fl">.09</span>,</span>
<span>    </span>
<span>    <span class="fl">.17</span>, <span class="fl">.13</span>, <span class="fl">.15</span>,</span>
<span>    <span class="fl">.14</span>, <span class="fl">.12</span>, <span class="fl">.16</span></span>
<span>    </span>
<span>  <span class="op">)</span>,</span>
<span>  </span>
<span>  m_post <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="fl">.070</span>, <span class="fl">.018</span>, <span class="fl">.141</span>,</span>
<span>    <span class="fl">.521</span>, <span class="fl">.152</span>, <span class="fl">.492</span>,</span>
<span>    </span>
<span>    <span class="fl">.001</span>, <span class="fl">.008</span>, <span class="fl">.087</span>,</span>
<span>    <span class="fl">.167</span>, <span class="fl">.044</span>, <span class="fl">.216</span>,</span>
<span>    </span>
<span>    <span class="fl">.083</span>, <span class="fl">.103</span>, <span class="fl">.489</span>,</span>
<span>    <span class="fl">.641</span>, <span class="fl">.233</span>, <span class="fl">.514</span>,</span>
<span>    </span>
<span>    <span class="fl">.319</span>, <span class="fl">.442</span>, <span class="fl">.601</span>,</span>
<span>    <span class="fl">.432</span>, <span class="fl">.232</span>, <span class="fl">.472</span></span>
<span>    </span>
<span>  <span class="op">)</span>,</span>
<span>  </span>
<span>  sd_post <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="fl">.11</span>, <span class="fl">.05</span>, <span class="fl">.21</span>,</span>
<span>    <span class="fl">.11</span>, <span class="fl">.15</span>, <span class="fl">.27</span>,</span>
<span>    </span>
<span>    <span class="fl">.01</span>, <span class="fl">.02</span>, <span class="fl">.12</span>,</span>
<span>    <span class="fl">.10</span>, <span class="fl">.05</span>, <span class="fl">.15</span>,</span>
<span>    </span>
<span>    <span class="fl">.10</span>, <span class="fl">.10</span>, <span class="fl">.18</span>,</span>
<span>    <span class="fl">.06</span>, <span class="fl">.16</span>, <span class="fl">.12</span>,</span>
<span>    </span>
<span>    <span class="fl">.14</span>, <span class="fl">.16</span>, <span class="fl">.18</span>, </span>
<span>    <span class="fl">.18</span>, <span class="fl">.07</span>, <span class="fl">.18</span></span>
<span>    </span>
<span>    </span>
<span>  <span class="op">)</span>,</span>
<span>  </span>
<span>  m_diff <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="fl">.399</span>, <span class="fl">.423</span>, <span class="fl">.208</span>,</span>
<span>    <span class="fl">.204</span>, <span class="fl">.446</span>, <span class="fl">.190</span>,</span>
<span>    </span>
<span>    <span class="fl">.106</span>, <span class="fl">.108</span>, <span class="fl">.030</span>,</span>
<span>    <span class="fl">.052</span>, <span class="fl">.196</span>, <span class="fl">.106</span>,</span>
<span>    </span>
<span>    <span class="fl">.259</span>, <span class="fl">.316</span>, <span class="op">-</span><span class="fl">.039</span>,</span>
<span>    <span class="fl">.042</span>, <span class="fl">.351</span>, <span class="fl">.057</span>,</span>
<span>    </span>
<span>    <span class="fl">.074</span>, <span class="fl">.056</span>, <span class="fl">.004</span>, </span>
<span>    <span class="fl">.032</span>, <span class="fl">.244</span>, <span class="fl">.015</span></span>
<span>    </span>
<span>  <span class="op">)</span>,</span>
<span>  </span>
<span>  sd_diff <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="fl">.02</span>, <span class="fl">.09</span>, <span class="fl">.04</span>,</span>
<span>    <span class="fl">.01</span>, <span class="fl">.02</span>, <span class="fl">.11</span>,</span>
<span>    </span>
<span>    <span class="fl">.09</span>, <span class="fl">.09</span>, <span class="fl">.02</span>, </span>
<span>    <span class="fl">.02</span>, <span class="fl">.08</span>, <span class="fl">.11</span>,</span>
<span>    </span>
<span>    <span class="fl">.13</span>, <span class="fl">.03</span>, <span class="fl">.07</span>,</span>
<span>    <span class="fl">.03</span>, <span class="fl">.12</span>, <span class="fl">.04</span>,</span>
<span>    </span>
<span>    <span class="fl">.04</span>, <span class="fl">.04</span>, <span class="fl">.04</span>,</span>
<span>    <span class="fl">.05</span>, <span class="fl">.06</span>, <span class="fl">.03</span></span>
<span>    </span>
<span>  <span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="co"># Here we test if the mean differences reported in the study are in line</span></span>
<span>  <span class="co"># with the differences between the reported pre and post means. It seems to</span></span>
<span>  <span class="co"># be the case that they make a reporting error for the cognitive outpatient </span></span>
<span>  <span class="co"># group mean difference on drug use. Write about the error can be on many levels</span></span>
<span>  mean_diff_test <span class="op">=</span> <span class="va">m_pre</span> <span class="op">-</span> <span class="va">m_post</span>,</span>
<span>  </span>
<span><span class="op">)</span>; <span class="va">Fisher1996</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 24 × 11</span></span></span>
<span><span class="co">#&gt;    outcome     setting    treatment     N m_pre sd_pre m_post sd_post m_diff</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Alcohol use Inpatient  Disease       6 0.469   0.12  0.07     0.11  0.399</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Alcohol use Inpatient  Cognitive     6 0.441   0.13  0.018    0.05  0.423</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Alcohol use Inpatient  TAU           7 0.349   0.22  0.141    0.21  0.208</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Alcohol use Outpatient Disease       6 0.725   0.11  0.521    0.11  0.204</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Alcohol use Outpatient Cognitive     6 0.598   0.16  0.152    0.15  0.446</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Alcohol use Outpatient TAU           7 0.682   0.17  0.492    0.27  0.19 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Drug use    Inpatient  Disease       6 0.107   0.09  0.001    0.01  0.106</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Drug use    Inpatient  Cognitive     6 0.116   0.1   0.008    0.02  0.108</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Drug use    Inpatient  TAU           7 0.117   0.12  0.087    0.12  0.03 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Drug use    Outpatient Disease       6 0.219   0.11  0.167    0.1   0.052</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> Drug use    Outpatient Cognitive     6 0.2     0.12  0.044    0.05  0.196</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> Drug use    Outpatient TAU           7 0.322   0.05  0.216    0.15  0.106</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> Social      Inpatient  Disease       6 0.342   0.21  0.083    0.1   0.259</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> Social      Inpatient  Cognitive     6 0.419   0.12  0.103    0.1   0.316</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> Social      Inpatient  TAU           7 0.45    0.24  0.489    0.18 -<span style="color: #BB0000;">0.039</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> Social      Outpatient Disease       6 0.683   0.04  0.641    0.06  0.042</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">17</span> Social      Outpatient Cognitive     6 0.584   0.05  0.233    0.16  0.351</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">18</span> Social      Outpatient TAU           7 0.571   0.09  0.514    0.12  0.057</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">19</span> Psych func  Inpatient  Disease       6 0.393   0.17  0.319    0.14  0.074</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">20</span> Psych func  Inpatient  Cognitive     6 0.498   0.13  0.442    0.16  0.056</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">21</span> Psych func  Inpatient  TAU           7 0.605   0.15  0.601    0.18  0.004</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">22</span> Psych func  Outpatient Disease       6 0.464   0.14  0.432    0.18  0.032</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">23</span> Psych func  Outpatient Cognitive     6 0.476   0.12  0.232    0.07  0.244</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">24</span> Psych func  Outpatient TAU           7 0.487   0.16  0.472    0.18  0.015</span></span>
<span><span class="co">#&gt;    sd_diff mean_diff_test</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>    0.02       0.399   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>    0.09       0.423   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>    0.04       0.208   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>    0.01       0.204   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>    0.02       0.446   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>    0.11       0.19    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>    0.09       0.106   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>    0.09       0.108   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>    0.02       0.03    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    0.02       0.052   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span>    0.08       0.156   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span>    0.11       0.106   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span>    0.13       0.259   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span>    0.03       0.316   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span>    0.07      -<span style="color: #BB0000;">0.039</span><span style="color: #BB0000; text-decoration: underline;">0</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span>    0.03       0.042<span style="text-decoration: underline;">00</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">17</span>    0.12       0.351   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">18</span>    0.04       0.057<span style="text-decoration: underline;">00</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">19</span>    0.04       0.074   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">20</span>    0.04       0.056   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">21</span>    0.04       0.004<span style="text-decoration: underline;">000</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">22</span>    0.05       0.032<span style="text-decoration: underline;">00</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">23</span>    0.06       0.244   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">24</span>    0.03       0.015<span style="text-decoration: underline;">00</span></span></span></code></pre></div>
<div class="section level3">
<h3 id="typiske-fejl-når-man-indtaster-data">Typiske fejl, når man indtaster data<a class="anchor" aria-label="anchor" href="#typiske-fejl-n%C3%A5r-man-indtaster-data"></a>
</h3>
<p>Når man benytter <code><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep()</a></code> til at skabe en variabel i et
datasæt, er en af de mest typiske fejl man laver, at man genererer
variabler, som ikke har lige mange værdier. Hvis dette er tilfældet, får
man en fejlmelding a la den nedenfor.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  var1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  var2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Error in `tibble()`:</span></span>
<span><span class="co">#! Tibble columns must have compatible sizes.</span></span>
<span><span class="co">#• Size 4: Existing data.</span></span>
<span><span class="co">#• Size 6: Column at position 2.</span></span>
<span><span class="co">#ℹ Only values of size one are recycled.</span></span>
<span><span class="co">#Run `rlang::last_trace()` to see where the error occurred.</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="effektstørrelsesudregning-med-kompleks-data">Effektstørrelsesudregning med kompleks data<a class="anchor" aria-label="anchor" href="#effektst%C3%B8rrelsesudregning-med-kompleks-data"></a>
</h2>
<p>Når man får fingrene i så komplekst afrapporteret data som den fra
Tabel 1, opstår der en række spørgsmål ift. hvilken typer af
effektstørrelser, som vil være de bedste at beregne, idet man kan vælge
en række forskellige effektstørrelsesindekser i dette tilfælde. Jeg vil
her gennemgå de tre mest kendte typer af effektstørrelser som man vil
kunne beregne ud fra denne data, og vise, hvordan man kan beregne
pre-posttest korrelationer
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>ρ</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow></msub><annotation encoding="application/x-tex">\rho_{prepost}</annotation></semantics></math>,
når data er afrapporteret som i Tabel 1.</p>
<div class="section level3">
<h3 id="cohens-d">Cohens’
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>d</mi><annotation encoding="application/x-tex">d</annotation></semantics></math><a class="anchor" aria-label="anchor" href="#cohens-d"></a>
</h3>
<p>Den vel nok mest kendte effektstørrelse, som man vil møde i
litteraturen er den som kaldes Cohens’
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>d</mi><annotation encoding="application/x-tex">d</annotation></semantics></math>.
Denne effektstørrelse beregnes således</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><mfrac><mrow><msubsup><mi>M</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>T</mi></msubsup><mo>−</mo><msubsup><mi>M</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>C</mi></msubsup></mrow><mrow><mi>S</mi><msub><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>o</mi><mi>l</mi></mrow></msub></mrow></mfrac><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{equation}
  \tag{1}
   d = \left(\frac{M^T_{post} - M^C_{post}}{SD_{pool}}\right)
\end{equation}</annotation></semantics></math></p>
<p>hvor
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>M</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>T</mi></msubsup><annotation encoding="application/x-tex">M^T_{post}</annotation></semantics></math>
og
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>M</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>C</mi></msubsup><annotation encoding="application/x-tex">M^C_{post}</annotation></semantics></math>
er posttestmål for hhv. treatment og kontrolgruppen, mes
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><msub><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>o</mi><mi>l</mi></mrow></msub></mrow><annotation encoding="application/x-tex">SD_{pool}</annotation></semantics></math>
beregnes via</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><msub><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>o</mi><mi>l</mi></mrow></msub><mo>=</mo><msqrt><mfrac><mrow><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mi>n</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>T</mi></msubsup><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>×</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><mi>S</mi><msubsup><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>T</mi></msubsup><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup><mo>+</mo><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mi>n</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>C</mi></msubsup><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>×</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><mi>S</mi><msubsup><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>C</mi></msubsup><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup></mrow><mrow><msup><mi>n</mi><mi>T</mi></msup><mo>+</mo><msup><mi>n</mi><mi>C</mi></msup><mo>−</mo><mn>2</mn></mrow></mfrac></msqrt></mrow><annotation encoding="application/x-tex">\begin{equation}
  \tag{2}
   SD_{pool}  = \sqrt{\frac{(n^T_{post} -1)\times(SD^T_{post})^2 + (n^C_{post} -1)\times(SD^C_{post})^2}{n^T + n^C - 2}}
\end{equation}</annotation></semantics></math></p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>n</mi><mi>T</mi></msup><annotation encoding="application/x-tex">n^T</annotation></semantics></math>
og
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>n</mi><mi>C</mi></msup><annotation encoding="application/x-tex">n^C</annotation></semantics></math>
samt
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><msubsup><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>T</mi></msubsup></mrow><annotation encoding="application/x-tex">SD^T_{post}</annotation></semantics></math>
og
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><msubsup><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>C</mi></msubsup></mrow><annotation encoding="application/x-tex">SD^C_{post}</annotation></semantics></math>
er samplestørrelsen og standardafvigelsen på posttest niveau for hhv.
treatment og kontrolgruppen. Sampling variansen for Cohens’
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>d</mi><annotation encoding="application/x-tex">d</annotation></semantics></math>
er givet ved</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mi>a</mi><msub><mi>r</mi><mi>d</mi></msub><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><mfrac><mn>1</mn><msup><mi>n</mi><mi>T</mi></msup></mfrac><mo>+</mo><mfrac><mn>1</mn><msup><mi>n</mi><mi>C</mi></msup></mfrac><mo stretchy="true" form="postfix">)</mo></mrow><mo>+</mo><mfrac><msup><mi>d</mi><mn>2</mn></msup><mrow><mn>2</mn><mi>d</mi><mi>f</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\begin{equation}
  \tag{3}
   Var_d = \left(\frac{1}{n^T} + \frac{1}{n^C}\right) + \frac{d^2}{2df}
\end{equation}</annotation></semantics></math></p>
<p>hvor
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>f</mi><mo>=</mo><msup><mi>n</mi><mi>T</mi></msup><mo>+</mo><msup><mi>n</mi><mi>C</mi></msup></mrow><annotation encoding="application/x-tex">df = n^T + n^C</annotation></semantics></math>
når der ikke er clusteringproblemer. En meget vigtig viden, som
forhåbentlig kan gøre det lettere at forstå, hvorfor vi senere laver
cluster-justeringer og hvordan vi gennemfører publikationsbiastests, er,
at forstå, at det første led i formel (2), dvs.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="true" form="prefix">(</mo><mfrac><mn>1</mn><msup><mi>n</mi><mi>T</mi></msup></mfrac><mo>+</mo><mfrac><mn>1</mn><msup><mi>n</mi><mi>C</mi></msup></mfrac><mo stretchy="true" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">\left(\frac{1}{n^T} + \frac{1}{n^C}\right)</annotation></semantics></math>,
indfanger sampling variationen for tælleren i formel (1), dvs.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>M</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>T</mi></msubsup><mo>−</mo><msubsup><mi>M</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>C</mi></msubsup></mrow><annotation encoding="application/x-tex">M^T_{post} - M^C_{post}</annotation></semantics></math>,
mens andet led i formel (2), dvs.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mfrac><msup><mi>d</mi><mn>2</mn></msup><mrow><mn>2</mn><mi>d</mi><mi>f</mi></mrow></mfrac><annotation encoding="application/x-tex">\frac{d^2}{2df}</annotation></semantics></math>
indfanger sampling variansen for nævner i formel (1), dvs.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><msub><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>o</mi><mi>l</mi></mrow></msub></mrow><annotation encoding="application/x-tex">SD_{pool}</annotation></semantics></math>.
Det er første led, som skaber det store bias, hvis et studie ikke har
håndtere klustering korrekt. Så når vi senere kluster bias korrigerer
effekterne fra dette studie, vil i se, at led et få gange en kluster
faktor på sig, som ofte vil gøre dette led substantielt større. En anden
vigtig del ift. formel (3) er at forstå, at andet leddet i formel (3)
(dvs. leddet til højre for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo>+</mo><annotation encoding="application/x-tex">+</annotation></semantics></math>-tegnet),
og senere formel (8), skaber en falsk korrelation mellem
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>d</mi><annotation encoding="application/x-tex">d</annotation></semantics></math>
og
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mi>a</mi><msub><mi>r</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">Var_d</annotation></semantics></math>
(se Pustejovsky &amp; Rodgers, <a href="https://doi.org/10.1002/jrsm.1332" class="external-link">(2019)</a>, fordi
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>d</mi><annotation encoding="application/x-tex">d</annotation></semantics></math>
benyttes til at beregne dette led. Når vi estimerer publikationsbias
test fjerner vi derfor dette led, så kan vi ikke risikerer fejlagtigt at
konkludere at små studier oftere afrapporterer større effekter, som blot
skyldes et beregningsartifakt. Variansleddet vi benytter i
publikationsbiastest ser derfor således ud;</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>d</mi></msub><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><mfrac><mn>1</mn><msup><mi>n</mi><mi>T</mi></msup></mfrac><mo>+</mo><mfrac><mn>1</mn><msup><mi>n</mi><mi>C</mi></msup></mfrac><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{equation}
  \tag{4}
   W_d = \left(\frac{1}{n^T} + \frac{1}{n^C}\right)
\end{equation}</annotation></semantics></math></p>
<div class="section level4">
<h4 id="beregning-af-standardafvigelse-baseret-på-alle-grupper-i-fleregruppe-studier">Beregning af standardafvigelse baseret på alle grupper i fleregruppe
studier<a class="anchor" aria-label="anchor" href="#beregning-af-standardafvigelse-baseret-p%C3%A5-alle-grupper-i-fleregruppe-studier"></a>
</h4>
<p>Når man har med fleregruppe studier (dvs. multi-arm trials), som
Fisher studiet her, kan man argumentere for, at en bedre beregning af
den poolede standardafvigelse (SD) ville bero på en SD, som er baseret
på alle målte SDs på tværs af alle grupperne i forsøget. Dermed vil den
poolede SD holdes konstant på af de forskellige effekter. Det er normalt
ikke noget vi benytter i vores reviews, men jeg viser her formlen og
koderne til at beregne denne, hvis man skulle få brug for den. Hvis man
vil bruge denne tilgang, så beregnes den samlede
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><msub><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>o</mi><mi>l</mi><mo>,</mo><mi>a</mi><mi>l</mi><mi>l</mi></mrow></msub></mrow><annotation encoding="application/x-tex">SD_{pool, all}</annotation></semantics></math>
således</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><msub><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>o</mi><mi>l</mi><mo>,</mo><mi>a</mi><mi>l</mi><mi>l</mi></mrow></msub><mo>=</mo><msqrt><mrow><mfrac><mn>1</mn><mrow><mi>N</mi><mo>−</mo><mi>T</mi><mo>−</mo><mn>1</mn></mrow></mfrac><munderover><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi>T</mi></munderover><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>n</mi><mi>t</mi></msup><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><msup><mrow><mo stretchy="true" form="prefix">(</mo><mi>S</mi><msubsup><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>t</mi></msubsup><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">\begin{equation}
  \tag{5}
   SD_{pool, all} = \sqrt{\frac{1}{N-T-1}\sum^{T}_{t=0}(n^t-1)(SD^t_{post})^2}
\end{equation}</annotation></semantics></math></p>
<p>hvor
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi>T</mi></msubsup><msup><mi>n</mi><mi>t</mi></msup></mrow><annotation encoding="application/x-tex">N = \sum^{T}_{t=0}n^t</annotation></semantics></math>
for treatmentgrupperne
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>=</mo><mn>0</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>T</mi></mrow><annotation encoding="application/x-tex">t=0,...,T</annotation></semantics></math>
med
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">t=0</annotation></semantics></math>
svarende til kontrolgruppen
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>C</mi><annotation encoding="application/x-tex">C</annotation></semantics></math>).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">SD_all_arms</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">Fisher1996</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span></span>
<span>    <span class="co"># Her beregner jeg formel (5)</span></span>
<span>    SD_all_arm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span> <span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span><span class="op">-</span><span class="fl">3</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="op">(</span><span class="va">N</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">*</span><span class="va">sd_post</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">)</span>,</span>
<span>    .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">outcome</span>, <span class="va">setting</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">outcome</span>, <span class="va">setting</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    treatment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Disease"</span>, <span class="st">"Cognitive"</span><span class="op">)</span>, <span class="fl">8</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/relocate.html" class="external-link">relocate</a></span><span class="op">(</span><span class="va">treatment</span>, .after <span class="op">=</span> <span class="va">setting</span><span class="op">)</span></span>
<span>  </span></code></pre></div>
<p>Det objekt kan senere bindes sammen med vores
effektstørrelsesdata.</p>
</div>
</div>
<div class="section level3">
<h3 id="hedges-g">Hedges’
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>g</mi><annotation encoding="application/x-tex">g</annotation></semantics></math><a class="anchor" aria-label="anchor" href="#hedges-g"></a>
</h3>
<p>En anden meget kendte effektstørrelser er den såkaldte Hedges’
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>g</mi><annotation encoding="application/x-tex">g</annotation></semantics></math>.
Forskellen med Cohens’
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>d</mi><annotation encoding="application/x-tex">d</annotation></semantics></math>
og Hedges’
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>g</mi><annotation encoding="application/x-tex">g</annotation></semantics></math>
er, at Hedges
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>g</mi><annotation encoding="application/x-tex">g</annotation></semantics></math>
korrigerer en overestimeringfejl i Cohens’
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>d</mi><annotation encoding="application/x-tex">d</annotation></semantics></math>.
Det vil konkret sige at Cohens’
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>d</mi><annotation encoding="application/x-tex">d</annotation></semantics></math>
bliver for stor ift. den sande bagvedliggende effekt som forsøges
estimeres, når sample størrelsen er lille, dvs. når
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>n</mi><mi>t</mi></msup><mo>&lt;</mo><mn>20</mn></mrow><annotation encoding="application/x-tex">n^t&lt;20</annotation></semantics></math>.
Derfor ganges en korrektion faktor
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo>=</mo><mn>1</mn><mo>−</mo><mfrac><mn>3</mn><mrow><mo stretchy="true" form="prefix">(</mo><mn>4</mn><mo>−</mo><mi>d</mi><mi>f</mi><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">J = 1 - \frac{3}{(4-df-1)}</annotation></semantics></math>
på formlel (1). Det ser ud således</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>=</mo><mi>J</mi><mrow><mo stretchy="true" form="prefix">(</mo><mfrac><mrow><msubsup><mi>M</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>T</mi></msubsup><mo>−</mo><msubsup><mi>M</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>C</mi></msubsup></mrow><mrow><mi>S</mi><msub><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>o</mi><mi>l</mi></mrow></msub></mrow></mfrac><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{equation}
  \tag{6}
   g = J\left(\frac{M^T_{post} - M^C_{post}}{SD_{pool}}\right)
\end{equation}</annotation></semantics></math></p>
<p>Larry Hedges, som har udviklet denne effektstørrelse, har senere
fundet, at det ikke er nødvendigt at korrigere variansen for denne
effektstørrelse. Det vil sige, at vi kan beregne sampling variansen med
formel (2). I vil kunne støde på nogle referencer, som ganger
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>J</mi><mn>2</mn></msup><annotation encoding="application/x-tex">J^2</annotation></semantics></math>
på formel (2), men dette ser som sagt ikke længere ud til at være
nødvendigt.</p>
</div>
<div class="section level3">
<h3 id="glass-delta">Glass’
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Δ</mi><annotation encoding="application/x-tex">\Delta</annotation></semantics></math><a class="anchor" aria-label="anchor" href="#glass-delta"></a>
</h3>
<p>Den sidste også relativt kendte effektstørrelse er Glass’
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Δ</mi><annotation encoding="application/x-tex">\Delta</annotation></semantics></math>.
Denne effektstørrelse adskiller sig ved, at man kun benytter post-test
standardafvigelsen fra kontrolgruppen,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><msubsup><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>C</mi></msubsup></mrow><annotation encoding="application/x-tex">SD^C_{post}</annotation></semantics></math>,
til at standardisere/skalere effektforskellen i formel (1). Det bygger
på antagelsen om, at kontrolgruppen ligner den fulde population mest, da
disse ikke har været udsat for en intervention. Den ser således ud</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Δ</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><mfrac><mrow><msubsup><mi>M</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>T</mi></msubsup><mo>−</mo><msubsup><mi>M</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>C</mi></msubsup></mrow><mrow><mi>S</mi><msubsup><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>C</mi></msubsup></mrow></mfrac><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{equation}
  \tag{7}
   \Delta = \left(\frac{M^T_{post} - M^C_{post}}{SD^C_{post}}\right)
\end{equation}</annotation></semantics></math></p>
<p>Formel (2) kan også benyttes til at beregne sampling for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Δ</mi><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></p>
</div>
<div class="section level3">
<h3 id="pretestbaseline-adjustede-effektstørrelser">Pretest/baseline adjustede effektstørrelser<a class="anchor" aria-label="anchor" href="#pretestbaseline-adjustede-effektst%C3%B8rrelser"></a>
</h3>
<p>Ovenfor har jeg vist en række af de mest kendte og simple
effektstørrelsesformler. Fælles for disse er, at de alle sammen ‘kun’
benytter posttest-effekter til at beregne gennemsnitforskellen mellem
treatment og kontrolgruppen, som beror på den antagelse at de raw means
er unbiased. Det kan dog være en hård antagelse i mange tilfælde, når vi
tillader ikke-randomiserede studier i vores reviews, da means ofte vil
være en biased i forskellig grad grundet brug af samples som ikke er
trukket via randomisering. Dog kan antagelsen også være hård for means,
der kommer fra RCTs, især små RCTer, da samplingfejl selvfølgelig også
kan forekomme i den type af studier. En løsning til at formildne dette
intern validitetsprogram, er at beregne, de såkaldte
difference-in-differences (DID) effektstørrelser (og kaldte
pretest-adjusted effect sizes), hvor man kontrollerer baseline
forskellene på outcme variablen ud mellem treatment og kontrolgruppen.
Vi vil ofte beregne både Hedges’
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>g</mi><annotation encoding="application/x-tex">g</annotation></semantics></math>
og DID effektstørrelser, men jeg er ret stor fan af den sidste og vil
altid lægge mest vægt på fotolkningen af disse, dels fordi denne
effektsttørreslser kan reducere bias og dels fordi den kan estimateres
mere præcist (se Hedges et al. <a href="https://doi.org/10.1111/bmsp.12296" class="external-link">2023</a>). Formlen for DID
effektstørrelsen er givet ved</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>g</mi><mrow><mi>D</mi><mi>I</mi><mi>D</mi></mrow></msub><mo>=</mo><mi>J</mi><mrow><mo stretchy="true" form="prefix">(</mo><mfrac><mrow><mrow><mo stretchy="true" form="prefix">[</mo><msubsup><mi>M</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>T</mi></msubsup><mo>−</mo><msubsup><mi>M</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi></mrow><mi>T</mi></msubsup><mo stretchy="true" form="postfix">]</mo></mrow><mo>−</mo><mrow><mo stretchy="true" form="prefix">[</mo><msubsup><mi>M</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>C</mi></msubsup><mo>−</mo><msubsup><mi>M</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi></mrow><mi>C</mi></msubsup><mo stretchy="true" form="postfix">]</mo></mrow></mrow><mrow><mi>S</mi><msub><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>o</mi><mi>l</mi></mrow></msub></mrow></mfrac><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{equation}
  \tag{8}
   g_{DID} = J \left(\frac{[M^T_{post} - M^T_{pre}] - [M^C_{post} - M^C_{pre}]}{SD_{pool}}\right)
\end{equation}</annotation></semantics></math></p>
<p>hvor
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>M</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>T</mi></msubsup><annotation encoding="application/x-tex">M^T_{post}</annotation></semantics></math>
og
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>M</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>C</mi></msubsup><annotation encoding="application/x-tex">M^C_{post}</annotation></semantics></math>
samt
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>M</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi></mrow><mi>T</mi></msubsup><annotation encoding="application/x-tex">M^T_{pre}</annotation></semantics></math>
og
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>M</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi></mrow><mi>C</mi></msubsup><annotation encoding="application/x-tex">M^C_{pre}</annotation></semantics></math>
er post- og baselinemål for hhv. treatment- og kontrolgruppen, og
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><msub><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>o</mi><mi>l</mi></mrow></msub><mo>=</mo><msqrt><mfrac><mrow><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mi>n</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>T</mi></msubsup><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>×</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><mi>S</mi><msubsup><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>T</mi></msubsup><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup><mo>+</mo><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mi>n</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>C</mi></msubsup><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>×</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><mi>S</mi><msubsup><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>C</mi></msubsup><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup></mrow><mrow><msup><mi>n</mi><mi>T</mi></msup><mo>+</mo><msup><mi>n</mi><mi>C</mi></msup><mo>−</mo><mn>2</mn></mrow></mfrac></msqrt></mrow><annotation encoding="application/x-tex">SD_{pool}  = \sqrt{\frac{(n^T_{post} -1)\times(SD^T_{post})^2 + (n^C_{post} -1)\times(SD^C_{post})^2}{n^T + n^C - 2}}</annotation></semantics></math>,
mens
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>n</mi><mi>T</mi></msup><annotation encoding="application/x-tex">n^T</annotation></semantics></math>
og
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>n</mi><mi>C</mi></msup><annotation encoding="application/x-tex">n^C</annotation></semantics></math>
samt
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><msubsup><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>T</mi></msubsup></mrow><annotation encoding="application/x-tex">SD^T_{post}</annotation></semantics></math>
og
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><msubsup><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>C</mi></msubsup></mrow><annotation encoding="application/x-tex">SD^C_{post}</annotation></semantics></math>
er samplestørrelsen og standardafvigelsen for hhv. treatment og
kontrolgruppen.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>J</mi><annotation encoding="application/x-tex">J</annotation></semantics></math>
i formel (1) er Hedges’ sample sample korrektor lige med
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>−</mo><mfrac><mn>3</mn><mrow><mn>4</mn><mi>d</mi><mi>f</mi><mo>−</mo><mn>1</mn></mrow></mfrac></mrow><annotation encoding="application/x-tex">1 - \frac{3}{4df-1}</annotation></semantics></math>
(nogen trækker 9 fra
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>f</mi></mrow><annotation encoding="application/x-tex">df</annotation></semantics></math>
i stedet for 1, men det har ingen substantiel betydning). <br><br>
Hvis vi antager, at der ikke er klusterproblmer, så er
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>f</mi><mo>=</mo><msup><mi>n</mi><mi>T</mi></msup><mo>+</mo><msup><mi>n</mi><mi>C</mi></msup></mrow><annotation encoding="application/x-tex">df = n^T + n^C</annotation></semantics></math>.
Når der er klusteringproblemer kan
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>f</mi></mrow><annotation encoding="application/x-tex">df</annotation></semantics></math>
beregnes via Equation E.21 (<a href="https://ies.ed.gov/ncee/WWC/Docs/referenceresources/Final_WWC-HandbookVer5_0-0-508.pdf" class="external-link">WWC,
2023</a>, s. 171) eller hvis der kun er klustering i en gruppe Equation
7 i Hedges og Citkowicz (<a href="https://doi.org/10.3758/s13428-014-0538-z" class="external-link">2015</a>). Sampling
variansen for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>g</mi><mrow><mi>D</mi><mi>I</mi><mi>D</mi></mrow></msub><annotation encoding="application/x-tex">g_{DID}</annotation></semantics></math>
er givet ved</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mi>a</mi><msub><mi>r</mi><msub><mi>g</mi><mrow><mi>D</mi><mi>I</mi><mi>D</mi></mrow></msub></msub><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><mfrac><mn>1</mn><msup><mi>n</mi><mi>T</mi></msup></mfrac><mo>+</mo><mfrac><mn>1</mn><msup><mi>n</mi><mi>C</mi></msup></mfrac><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>−</mo><msub><mi>ρ</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>+</mo><mfrac><msubsup><mi>g</mi><mrow><mi>D</mi><mi>I</mi><mi>D</mi></mrow><mn>2</mn></msubsup><mrow><mn>2</mn><mi>d</mi><mi>f</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\begin{equation}
  \tag{9}
   Var_{g_{DID}} = \left(\frac{1}{n^T} + \frac{1}{n^C}\right) 2(1-\rho_{prepost})  + \frac{g_{DID}^2}{2df}
\end{equation}</annotation></semantics></math></p>
<p>Problemet er dog, at man skal kende pre-posttest korrelationen,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>ρ</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow></msub><annotation encoding="application/x-tex">\rho_{prepost}</annotation></semantics></math>,
for at kunne beregne variansen korrekt. I mange tilfælde vil vi være i
stand til at kunne beregne denne (se eksempel nedenfor). Se eksemplvis
formlerne fra <a href="https://training.cochrane.org/handbook/current/chapter-06#section-6-5-2-8" class="external-link">Cochranes
handbook</a> eller formel 31 i Wilson (<a href="https://mason.gmu.edu/~dwilsonb/downloads/esformulas.pdf" class="external-link">2016</a>).
Se også denne blog på <a href="https://mikkelvembye.github.io/VIVECampbell/articles/ancova-puzzler.html">VIVECampbell
siden</a>. Alternativt kan
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mi>a</mi><msub><mi>r</mi><msub><mi>g</mi><mrow><mi>D</mi><mi>I</mi><mi>D</mi></mrow></msub></msub></mrow><annotation encoding="application/x-tex">Var_{g_{DID}}</annotation></semantics></math>
beregnes korrekt, hvis forfatterne har afrapporteret
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>t</mi><annotation encoding="application/x-tex">t</annotation></semantics></math>-
eller
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>F</mi><annotation encoding="application/x-tex">F</annotation></semantics></math>-værdier
fra repeated ANOVA, ANCOVA eller en regressions model, som har
inkluderet pretest-outcome som kontrol variabel. Hvis dette er
tilfældet, så</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mi>a</mi><msub><mi>r</mi><msub><mi>g</mi><mrow><mi>D</mi><mi>I</mi><mi>D</mi></mrow></msub></msub><mo>=</mo><mfrac><msubsup><mi>g</mi><mrow><mi>D</mi><mi>I</mi><mi>D</mi></mrow><mn>2</mn></msubsup><msup><mi>t</mi><mn>2</mn></msup></mfrac><mo>+</mo><mfrac><msubsup><mi>g</mi><mrow><mi>D</mi><mi>I</mi><mi>D</mi></mrow><mn>2</mn></msubsup><mrow><mn>2</mn><mi>d</mi><mi>f</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\begin{equation}
  \tag{10}
   Var_{g_{DID}} = \frac{g_{DID}^2}{t^2} + \frac{g_{DID}^2}{2df}
\end{equation}</annotation></semantics></math></p>
<p>Bemærk her at
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo>=</mo><msup><mi>t</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">F = t^2</annotation></semantics></math>.
Se <a href="https://www.jepusto.com/alternative-formulas-for-the-smd/" class="external-link">James
Pustejovskys blog</a> for en yderligere uddybning. Det er igen vigtigt
her at notere, at når vi benytter disse typer af effektstørrelser i
publikationsbiastests, fjernes igen andet leddet (dvs. leddet på højre
side af
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo>+</mo><annotation encoding="application/x-tex">+</annotation></semantics></math>-tegnet)
i formlerne (8) og (9).</p>
<div class="section level4">
<h4 id="beregning-af-pre-posttest-korrelation-rho_prepost">Beregning af pre-posttest korrelation
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>ρ</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow></msub><annotation encoding="application/x-tex">\rho_{prepost}</annotation></semantics></math><a class="anchor" aria-label="anchor" href="#beregning-af-pre-posttest-korrelation-rho_prepost"></a>
</h4>
<p>For at kunne beregne sampling variansen for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>g</mi><mrow><mi>D</mi><mi>I</mi><mi>D</mi></mrow></msub><annotation encoding="application/x-tex">g_{DID}</annotation></semantics></math>
skal vi kende, estimere eller imputere en værdi for korrelationen mellem
pretest og postscorene,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>ρ</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow></msub><annotation encoding="application/x-tex">\rho_{prepost}</annotation></semantics></math>.
jeg vil på et senere tidspunkt skrive en blog, hvor jeg vil vise
eksempler på alle de måder jeg kender til, hvorpå man kan bakke ud
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>ρ</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow></msub><annotation encoding="application/x-tex">\rho_{prepost}</annotation></semantics></math>.
Når resultaterne er afrapportet som i Tabel 1, kan vi faktisk udregne
den
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>ρ</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow></msub><annotation encoding="application/x-tex">\rho_{prepost}</annotation></semantics></math>
for hhv. treatment- og kontrolgruppen. Her kan vi benytte formler fra <a href="https://training.cochrane.org/handbook/current/chapter-06#section-6-5-2-8" class="external-link">Cochranes
handbook</a>, som for treatmentet gruppen kan beregnes vha</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>ρ</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>T</mi></msubsup><mo>=</mo><mfrac><mrow><msup><mrow><mo stretchy="true" form="prefix">(</mo><mi>S</mi><msubsup><mi>D</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi></mrow><mi>T</mi></msubsup><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup><mo>+</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><mi>S</mi><msubsup><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>T</mi></msubsup><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup><mo>−</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><mi>S</mi><msubsup><mi>D</mi><mrow><mi>d</mi><mi>i</mi><mi>f</mi><mi>f</mi></mrow><mi>T</mi></msubsup><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup></mrow><mrow><mn>2</mn><mo>×</mo><mi>S</mi><msubsup><mi>D</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi></mrow><mi>T</mi></msubsup><mo>×</mo><mi>S</mi><msubsup><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>T</mi></msubsup></mrow></mfrac></mrow><annotation encoding="application/x-tex">\begin{equation}
  \tag{11}
   \rho^T_{prepost} = \frac{(SD^T_{pre})^2 + (SD^T_{post})^2 - (SD^T_{diff})^2}{2 \times SD^T_{pre} \times SD^T_{post}}
\end{equation}</annotation></semantics></math></p>
<p>og for kontrolgruppen</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>ρ</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>C</mi></msubsup><mo>=</mo><mfrac><mrow><msup><mrow><mo stretchy="true" form="prefix">(</mo><mi>S</mi><msubsup><mi>D</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi></mrow><mi>C</mi></msubsup><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup><mo>+</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><mi>S</mi><msubsup><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>C</mi></msubsup><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup><mo>−</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><mi>S</mi><msubsup><mi>D</mi><mrow><mi>d</mi><mi>i</mi><mi>f</mi><mi>f</mi></mrow><mi>C</mi></msubsup><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup></mrow><mrow><mn>2</mn><mo>×</mo><mi>S</mi><msubsup><mi>D</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi></mrow><mi>C</mi></msubsup><mo>×</mo><mi>S</mi><msubsup><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>C</mi></msubsup></mrow></mfrac></mrow><annotation encoding="application/x-tex">\begin{equation}
  \tag{12}
   \rho^C_{prepost} = \frac{(SD^C_{pre})^2 + (SD^C_{post})^2 - (SD^C_{diff})^2}{2 \times SD^C_{pre} \times SD^C_{post}}
\end{equation}</annotation></semantics></math></p>
<p>Disse beregninger kan vi faktisk lave/tilføje direkte i vores datasæt
indtastet ovenfor <br></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Fisher1996</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">Fisher1996</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>  </span>
<span>  <span class="co"># Regnes som i formler (11) og (12). I kan finde disse i Cochrane handbook (Higgins &amp; Thomas, 2019, p. 166).</span></span>
<span>  r <span class="op">=</span> <span class="op">(</span><span class="va">sd_pre</span><span class="op">^</span><span class="fl">2</span> <span class="op">+</span> <span class="va">sd_post</span><span class="op">^</span><span class="fl">2</span><span class="op">-</span><span class="va">sd_diff</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">2</span> <span class="op">*</span> <span class="va">sd_pre</span> <span class="op">*</span> <span class="va">sd_post</span> <span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="op">)</span> </span></code></pre></div>
<p>Nu kender vi pre-posttest korrelationen for hhv. treatment- og
kontrolgrupperne, men for at kunne beregne
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>ρ</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow></msub><annotation encoding="application/x-tex">\rho_{prepost}</annotation></semantics></math>
skal vi beregne den gennemsnitlige korrelation baseret på korrelationen
fra den treatment- og kontrolgruppe, som benyttes til at udregne den
givne effektstørrelse. For præcist at kunne beregne denne omregner man
korrelationer til Fishers’ z-scores via
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mi>i</mi></msub><mo>=</mo><mn>0.5</mn><mo>×</mo><mi>l</mi><mi>n</mi><mrow><mo stretchy="true" form="prefix">(</mo><mfrac><mrow><mn>1</mn><mo>+</mo><msubsup><mi>ρ</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>i</mi></msubsup></mrow><mrow><mn>1</mn><mo>−</mo><msubsup><mi>ρ</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>i</mi></msubsup></mrow></mfrac><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">z_i = 0.5 \times ln\left(\frac{1+\rho^i_{prepost}}{1-\rho^i_{prepost}}\right)</annotation></semantics></math>
med varians
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mi>i</mi></msub><mo>=</mo><mfrac><mn>1</mn><mrow><mi>n</mi><mo>−</mo><mn>3</mn></mrow></mfrac></mrow><annotation encoding="application/x-tex">v_i = \frac{1}{n-3}</annotation></semantics></math>,
hvor
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi><annotation encoding="application/x-tex">n</annotation></semantics></math>
er gruppenstørrelsen. Varians bruges som vægt via
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mi>i</mi></msub><mo>=</mo><mfrac><mn>1</mn><msub><mi>v</mi><mi>i</mi></msub></mfrac></mrow><annotation encoding="application/x-tex">w_i = \frac{1}{v_i}</annotation></semantics></math>,
når Fishers z-score konverteres tilbage til en korrelation-coefficient,
således
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>ρ</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>i</mi></msubsup><annotation encoding="application/x-tex">\rho^i_{prepost}</annotation></semantics></math>
med flest observationer/individer får størst vægt. Disse kan beregnes
direkte i de råt indtastede data således</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">Fisher1996</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">Fisher1996</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>  z <span class="op">=</span> <span class="fl">0.5</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span> <span class="op">(</span><span class="fl">1</span><span class="op">+</span><span class="va">r</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">r</span><span class="op">)</span> <span class="op">)</span>,</span>
<span>  v <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="op">(</span><span class="va">N</span><span class="op">-</span><span class="fl">3</span><span class="op">)</span>,</span>
<span>  w <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="va">v</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>Den gennemsnitlige Fishers’ z-score på tværs af grupperne kan
derefter beregnes således</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover><msub><mi>z</mi><mi>r</mi></msub><mo accent="true">‾</mo></mover><mo>=</mo><mfrac><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>g</mi></munderover><msub><mi>w</mi><mi>i</mi></msub><msub><mi>z</mi><mi>i</mi></msub></mrow><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>g</mi></munderover><msub><mi>w</mi><mi>i</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">\begin{equation}
  \tag{13}
   \bar{z_r} = \frac{\sum^g_{i = 1}w_iz_i}{\sum^g_{i = 1}w_i}
\end{equation}</annotation></semantics></math></p>
<p>Herefter kan den gennemsnitlige pre-posttest korrelation på tværs af
grupper beregnes via</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover><mi>ρ</mi><mo accent="true">‾</mo></mover><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow></msub><mo>=</mo><mfrac><mrow><msup><mi>e</mi><mrow><mo stretchy="false" form="prefix">(</mo><mn>2</mn><mover><msub><mi>z</mi><mi>r</mi></msub><mo accent="true">‾</mo></mover></mrow></msup><mo stretchy="false" form="postfix">)</mo><mo>−</mo><mn>1</mn></mrow><mrow><msup><mi>e</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>2</mn><mover><msub><mi>z</mi><mi>r</mi></msub><mo accent="true">‾</mo></mover><mo stretchy="true" form="postfix">)</mo></mrow></msup><mo>+</mo><mn>1</mn></mrow></mfrac></mrow><annotation encoding="application/x-tex">\begin{equation}
  \tag{14}
   \bar\rho_{prepost} = \frac{e^{(2\bar{z_r}})-1}{e^{(2\bar{z_r})}+1}
\end{equation}</annotation></semantics></math></p>
<p>Jeg viser, hvordan dette kan beregnes, som det første i nedenstående
effektstørrelsesudregninger i næste sektion.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="omsætning-af-formlerne-til-beregninger-i-r">Omsætning af formlerne til beregninger i R<a class="anchor" aria-label="anchor" href="#oms%C3%A6tning-af-formlerne-til-beregninger-i-r"></a>
</h2>
<p>Nedenfor vil jeg vise, hvordan I kan omsætte ovenstående formler,
dvs. beregne Cohens’
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>d</mi><annotation encoding="application/x-tex">d</annotation></semantics></math>,
Hedges’
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>g</mi><annotation encoding="application/x-tex">g</annotation></semantics></math>
samt difference-in-differences effektstørrelser i R, og senere også
hvordan i korrigere disse for klusterfejl. I eksemplet nedenfor fjerner
jeg den ene treatment gruppe for at forsimple beregningerne. Jeg vil
længere nede vise, hvordan I let kan skabe de samme beregninger på tværs
af forskellige treatment-grupper. Når jeg arbejder med
effektstørrelsesdata i R, har jeg en række regler jeg arbejder ud fra.
Den første er, at jeg altid opkalder det rå effekt-data med efternavnet
på førteforfatteren og udgivelsesåret for studiet, således at
objektnavnet bliver <code>AuthorYear</code>. Objektet som indeholder
effektstørrelsesudregningerne kalder jeg altid
<code>AuthorYear_est</code>. <code>est</code> står for
‘<strong>E</strong>ffect <strong>S</strong>izes standardized with the
<strong>T</strong>otal variation’. Lad os springe ud i det.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Fisher1996_es_disease</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">Fisher1996</span> <span class="op">|&gt;</span> </span>
<span>  <span class="co"># Her fjerner jeg den treatment gruppen "Cognitive" for at kunne beregne effektstørrelser</span></span>
<span>  <span class="co"># mellem Diasease og kontrol treatment</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">treatment</span> <span class="op">!=</span> <span class="st">"Cognitive"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span></span>
<span>      study <span class="op">=</span> <span class="st">"Fisher1996"</span>,</span>
<span>      treatment <span class="op">=</span> <span class="va">treatment</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>      main_es_method <span class="op">=</span> <span class="st">"diff-in-diffs"</span>,</span>
<span>      </span>
<span>      <span class="co">#Her regner vi den gennemsnitlige Fishers z-score som angivet i formel (13)</span></span>
<span>      mean_z <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">w</span><span class="op">*</span><span class="va">z</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">w</span><span class="op">)</span>,</span>
<span>      <span class="co">#Her beregner vi den gennemsnitlige pre-posttest korrelation som angivet i formel (14) </span></span>
<span>      ppcor <span class="op">=</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="va">mean_z</span><span class="op">)</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="va">mean_z</span><span class="op">)</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>      <span class="co"># Her dokumneterer jeg, hvor vi har fundet pre-posttest korrelationen </span></span>
<span>      ppcor_calc_method <span class="op">=</span> <span class="st">"Calculated from study results"</span>,</span>
<span>      </span>
<span>      <span class="co"># Her laver vi variabler, som viser sample størrelser opdelt på treatment- og kontrolgrupperne</span></span>
<span>      N_t <span class="op">=</span> <span class="va">N</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>      N_c <span class="op">=</span> <span class="va">N</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,</span>
<span>      <span class="co"># Her laver vi en variabler med den totale samplestørrelse</span></span>
<span>      N_tot <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="co"># Her laver vi variablen med antal frihedsgrader, som benyttes hhv. til </span></span>
<span>      <span class="co"># beregne andet led i variansformlerne (3) og (9) samt til at skabe J faktoren</span></span>
<span>      <span class="co"># der bruges til beregne Hedges' g</span></span>
<span>      df_ind <span class="op">=</span> <span class="va">N_tot</span>,</span>
<span>      </span>
<span>      <span class="co"># Her beregnes en pooled standardafvigelse som vist i formel (2)</span></span>
<span>      sd_pool <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="op">(</span><span class="va">N</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="va">sd_post</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">/</span> <span class="va">df_ind</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="co"># Beregning af tælleren i formler (1), (6) og (7) </span></span>
<span>      <span class="co"># Jeg vender her skalen om, da et fald i scoren på de givne skalaer indikerer en positiv fremgang</span></span>
<span>      m_diff_post <span class="op">=</span> <span class="op">(</span><span class="va">m_post</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">-</span><span class="va">m_post</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">*</span><span class="op">-</span><span class="fl">1</span>,</span>
<span>      </span>
<span>      <span class="co"># Beregning af Cohens' d fra formel (1)</span></span>
<span>      d_post <span class="op">=</span> <span class="va">m_diff_post</span><span class="op">/</span><span class="va">sd_pool</span>,</span>
<span>      <span class="co"># variansudregning fra formel (3)</span></span>
<span>      vd_post <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="va">N</span><span class="op">)</span> <span class="op">+</span> <span class="va">d_post</span><span class="op">^</span><span class="fl">2</span><span class="op">/</span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="va">df_ind</span><span class="op">)</span>,</span>
<span>      <span class="co"># Her beregnes det variansled, som er angivet i formel (4) og benyttes til </span></span>
<span>      <span class="co"># publikationsbias testning</span></span>
<span>      Wd_post <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="va">N</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="co"># Beregnig af Hedges' g fra formel (6)</span></span>
<span>      J <span class="op">=</span> <span class="fl">1</span> <span class="op">-</span> <span class="fl">3</span><span class="op">/</span><span class="op">(</span><span class="fl">4</span><span class="op">*</span><span class="va">df_ind</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>      g_post <span class="op">=</span> <span class="va">J</span> <span class="op">*</span> <span class="va">d_post</span>,</span>
<span>      vg_post <span class="op">=</span> <span class="va">vd_post</span>,</span>
<span>      Wg_post <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="va">N</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="co"># Beregnig af Glass' delta fra formel (7). Vi bruger aldrig denne, så den </span></span>
<span>      <span class="co"># er kun med her for eksemplets skyld</span></span>
<span>      sd_control <span class="op">=</span> <span class="va">sd_post</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,</span>
<span>      delta_post <span class="op">=</span> <span class="va">m_diff_post</span><span class="op">/</span><span class="va">sd_control</span>,</span>
<span>      </span>
<span>      <span class="co"># Difference-in-differences (DID) effektstørrelsen</span></span>
<span>      <span class="co"># Her beregner jeg den raw pre-posteffekt forskelle for hhv. treatment og</span></span>
<span>      <span class="co"># gruppen.</span></span>
<span>      diff_t <span class="op">=</span> <span class="op">(</span><span class="va">m_post</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">-</span> <span class="va">m_pre</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">*</span><span class="op">-</span><span class="fl">1</span>,</span>
<span>      diff_c <span class="op">=</span> <span class="op">(</span><span class="va">m_post</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">-</span> <span class="va">m_pre</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">*</span><span class="op">-</span><span class="fl">1</span>,</span>
<span>      </span>
<span>      <span class="co"># Her skaber jeg så tælleren fra formel (8)</span></span>
<span>      DD <span class="op">=</span> <span class="op">(</span><span class="va">diff_t</span> <span class="op">-</span> <span class="va">diff_c</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="co"># Her bergener jeg hele formel (8)</span></span>
<span>      d_DID <span class="op">=</span> <span class="op">(</span><span class="va">diff_t</span> <span class="op">-</span> <span class="va">diff_c</span><span class="op">)</span> <span class="op">/</span> <span class="va">sd_pool</span>,</span>
<span>      <span class="co"># Her beregner jeg formel (9)</span></span>
<span>      vd_DID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="va">N</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">ppcor</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="va">d_DID</span><span class="op">^</span><span class="fl">2</span><span class="op">/</span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="va">df_ind</span><span class="op">)</span>,</span>
<span>      <span class="co"># Hvis man vil beregne standardfejlen istedet tager man blot kvadratroden af variansen</span></span>
<span>      sed_DID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">vd_DID</span><span class="op">)</span>,</span>
<span>      <span class="co"># Her skabes den variabel som benyttes når vi skal gennemføre publikationsbias tests</span></span>
<span>      Wd_DID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="va">N</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">ppcor</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="co"># Her gøres det samme bare hvor vi indregner sample sample bias korrektoreren J</span></span>
<span>      g_DID <span class="op">=</span> <span class="va">J</span> <span class="op">*</span> <span class="va">d_DID</span>,</span>
<span>      vg_DID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="va">N</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">ppcor</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="va">g_DID</span><span class="op">^</span><span class="fl">2</span><span class="op">/</span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="va">df_ind</span><span class="op">)</span>,</span>
<span>      Wg_DID <span class="op">=</span> <span class="va">Wd_DID</span>,</span>
<span>     </span>
<span>     <span class="co"># Effektstørrelserne skal beregne indenfor hver setting og outcome, </span></span>
<span>     <span class="co"># Derfor grupperer jeg beregninger således</span></span>
<span>     .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">setting</span>, <span class="va">outcome</span><span class="op">)</span></span>
<span>      </span>
<span>     </span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/relocate.html" class="external-link">relocate</a></span><span class="op">(</span><span class="va">study</span><span class="op">)</span></span>
<span></span>
<span><span class="va">Fisher1996_es_disease</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 8 × 33</span></span></span>
<span><span class="co">#&gt;   study      setting    outcome     treatment main_es_method mean_z  ppcor</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Fisher1996 Inpatient  Alcohol use Disease   diff-in-diffs   2.480 0.986<span style="text-decoration: underline;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Fisher1996 Outpatient Alcohol use Disease   diff-in-diffs   2.598 0.989<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Fisher1996 Inpatient  Drug use    Disease   diff-in-diffs   1.442 0.894<span style="text-decoration: underline;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Fisher1996 Outpatient Drug use    Disease   diff-in-diffs   1.806 0.947<span style="text-decoration: underline;">5</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Fisher1996 Inpatient  Social      Disease   diff-in-diffs   1.996 0.963<span style="text-decoration: underline;">7</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> Fisher1996 Outpatient Social      Disease   diff-in-diffs   1.795 0.946<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> Fisher1996 Inpatient  Psych func  Disease   diff-in-diffs   2.489 0.986<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> Fisher1996 Outpatient Psych func  Disease   diff-in-diffs   2.562 0.988<span style="text-decoration: underline;">2</span></span></span>
<span><span class="co">#&gt;   ppcor_calc_method               N_t   N_c N_tot df_ind sd_pool m_diff_post</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Calculated from study results     6     7    13     13 0.158<span style="text-decoration: underline;">1</span>      0.071  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Calculated from study results     6     7    13     13 0.195<span style="text-decoration: underline;">7</span>     -<span style="color: #BB0000;">0.029</span><span style="color: #BB0000; text-decoration: underline;">00</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Calculated from study results     6     7    13     13 0.081<span style="text-decoration: underline;">76</span>     0.086  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Calculated from study results     6     7    13     13 0.119<span style="text-decoration: underline;">3</span>      0.049  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Calculated from study results     6     7    13     13 0.137<span style="text-decoration: underline;">1</span>      0.406  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> Calculated from study results     6     7    13     13 0.089<span style="text-decoration: underline;">61</span>    -<span style="color: #BB0000;">0.127</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> Calculated from study results     6     7    13     13 0.150<span style="text-decoration: underline;">0</span>      0.282  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> Calculated from study results     6     7    13     13 0.165<span style="text-decoration: underline;">6</span>      0.040<span style="text-decoration: underline;">0</span> </span></span>
<span><span class="co">#&gt;    d_post vd_post Wd_post      J  g_post vg_post Wg_post sd_control delta_post</span></span>
<span><span class="co">#&gt;     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>  0.449<span style="text-decoration: underline;">0</span>  0.317<span style="text-decoration: underline;">3</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  0.422<span style="text-decoration: underline;">6</span>  0.317<span style="text-decoration: underline;">3</span>  0.309<span style="text-decoration: underline;">5</span>       0.21     0.338<span style="text-decoration: underline;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> -<span style="color: #BB0000;">0.148</span><span style="color: #BB0000; text-decoration: underline;">2</span>  0.310<span style="text-decoration: underline;">4</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span> -<span style="color: #BB0000;">0.139</span><span style="color: #BB0000; text-decoration: underline;">5</span>  0.310<span style="text-decoration: underline;">4</span>  0.309<span style="text-decoration: underline;">5</span>       0.27    -<span style="color: #BB0000;">0.107</span><span style="color: #BB0000; text-decoration: underline;">4</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>  1.052   0.352<span style="text-decoration: underline;">1</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  0.990<span style="text-decoration: underline;">0</span>  0.352<span style="text-decoration: underline;">1</span>  0.309<span style="text-decoration: underline;">5</span>       0.12     0.716<span style="text-decoration: underline;">7</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>  0.410<span style="text-decoration: underline;">8</span>  0.316<span style="text-decoration: underline;">0</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  0.386<span style="text-decoration: underline;">6</span>  0.316<span style="text-decoration: underline;">0</span>  0.309<span style="text-decoration: underline;">5</span>       0.15     0.326<span style="text-decoration: underline;">7</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>  2.961   0.646<span style="text-decoration: underline;">7</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  2.787   0.646<span style="text-decoration: underline;">7</span>  0.309<span style="text-decoration: underline;">5</span>       0.18     2.256 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> -<span style="color: #BB0000;">1.417</span>   0.386<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span> -<span style="color: #BB0000;">1.334</span>   0.386<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span>       0.12    -<span style="color: #BB0000;">1.058</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span>  1.880   0.445<span style="text-decoration: underline;">5</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  1.770   0.445<span style="text-decoration: underline;">5</span>  0.309<span style="text-decoration: underline;">5</span>       0.18     1.567 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span>  0.241<span style="text-decoration: underline;">6</span>  0.311<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  0.227<span style="text-decoration: underline;">4</span>  0.311<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span>       0.18     0.222<span style="text-decoration: underline;">2</span></span></span>
<span><span class="co">#&gt;    diff_t    diff_c       DD    d_DID   vd_DID sed_DID   Wd_DID    g_DID</span></span>
<span><span class="co">#&gt;     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 0.399    0.208     0.191    1.208   0.064<span style="text-decoration: underline;">73</span>  0.254<span style="text-decoration: underline;">4</span>  0.008<span style="text-decoration: underline;">626</span>  1.137  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 0.204    0.19      0.014<span style="text-decoration: underline;">00</span>  0.071<span style="text-decoration: underline;">54</span> 0.007<span style="text-decoration: underline;">011</span> 0.083<span style="text-decoration: underline;">73</span> 0.006<span style="text-decoration: underline;">814</span>  0.067<span style="text-decoration: underline;">33</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 0.106    0.03      0.076    0.929<span style="text-decoration: underline;">6</span>  0.098<span style="text-decoration: underline;">82</span>  0.314<span style="text-decoration: underline;">4</span>  0.065<span style="text-decoration: underline;">58</span>   0.874<span style="text-decoration: underline;">9</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 0.052    0.106    -<span style="color: #BB0000;">0.054</span>   -<span style="color: #BB0000;">0.452</span><span style="color: #BB0000; text-decoration: underline;">7</span>  0.040<span style="text-decoration: underline;">40</span>  0.201<span style="text-decoration: underline;">0</span>  0.032<span style="text-decoration: underline;">52</span>  -<span style="color: #BB0000;">0.426</span><span style="color: #BB0000; text-decoration: underline;">0</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 0.259   -<span style="color: #BB0000;">0.039</span><span style="color: #BB0000; text-decoration: underline;">0</span>    0.298    2.173   0.204<span style="text-decoration: underline;">1</span>   0.451<span style="text-decoration: underline;">8</span>  0.022<span style="text-decoration: underline;">46</span>   2.046  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 0.042<span style="text-decoration: underline;">00</span>  0.057<span style="text-decoration: underline;">00</span>  -<span style="color: #BB0000;">0.015</span><span style="color: #BB0000; text-decoration: underline;">00</span> -<span style="color: #BB0000;">0.167</span><span style="color: #BB0000; text-decoration: underline;">4</span>  0.034<span style="text-decoration: underline;">33</span>  0.185<span style="text-decoration: underline;">3</span>  0.033<span style="text-decoration: underline;">26</span>  -<span style="color: #BB0000;">0.157</span><span style="color: #BB0000; text-decoration: underline;">5</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> 0.074    0.004<span style="text-decoration: underline;">000</span>  0.07     0.466<span style="text-decoration: underline;">7</span>  0.016<span style="text-decoration: underline;">85</span>  0.129<span style="text-decoration: underline;">8</span>  0.008<span style="text-decoration: underline;">471</span>  0.439<span style="text-decoration: underline;">3</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> 0.032<span style="text-decoration: underline;">00</span>  0.015<span style="text-decoration: underline;">00</span>   0.017<span style="text-decoration: underline;">00</span>  0.102<span style="text-decoration: underline;">7</span>  0.007<span style="text-decoration: underline;">729</span> 0.087<span style="text-decoration: underline;">91</span> 0.007<span style="text-decoration: underline;">323</span>  0.096<span style="text-decoration: underline;">63</span></span></span>
<span><span class="co">#&gt;     vg_DID   Wg_DID</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 0.058<span style="text-decoration: underline;">33</span>  0.008<span style="text-decoration: underline;">626</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 0.006<span style="text-decoration: underline;">989</span> 0.006<span style="text-decoration: underline;">814</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 0.095<span style="text-decoration: underline;">02</span>  0.065<span style="text-decoration: underline;">58</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 0.039<span style="text-decoration: underline;">50</span>  0.032<span style="text-decoration: underline;">52</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 0.183<span style="text-decoration: underline;">4</span>   0.022<span style="text-decoration: underline;">46</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 0.034<span style="text-decoration: underline;">21</span>  0.033<span style="text-decoration: underline;">26</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> 0.015<span style="text-decoration: underline;">89</span>  0.008<span style="text-decoration: underline;">471</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> 0.007<span style="text-decoration: underline;">682</span> 0.007<span style="text-decoration: underline;">323</span></span></span></code></pre></div>
<div class="section level3">
<h3 id="funktion-til-effektstørrelsesberegning-med-mere-end-to-treatment--ogeller-kontrolgrupper">Funktion til effektstørrelsesberegning med mere end to treatment-
og/eller kontrolgrupper<a class="anchor" aria-label="anchor" href="#funktion-til-effektst%C3%B8rrelsesberegning-med-mere-end-to-treatment--ogeller-kontrolgrupper"></a>
</h3>
<p>Ovenfor har jeg vist, hvordan man kan beregne effektstørrelser, når
der er en treatment gruppe. Nu vil jeg vise, hvordan man brugen
funktionskabning til at lave de samme beregninger for flere
treatmentgrupper, der skal sammenlignes med den samme kontrolgruppe, som
i dette tilfælde vi beskæftiger os med.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">treat_label_fisher</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">Fisher1996</span><span class="op">$</span><span class="va">treatment</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span></span>
<span></span>
<span><span class="va">fisher_func</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">label</span><span class="op">)</span><span class="op">{</span></span>
<span>  </span>
<span>  <span class="va">Fisher_effects</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">Fisher1996</span> <span class="op">|&gt;</span> </span>
<span>  <span class="co"># Her fjerner jeg den treatment gruppen "Cognitive" for at kunne beregne effektstørrelser</span></span>
<span>  <span class="co"># mellem Diasease og kontrol treatment</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">treatment</span> <span class="op">!=</span> <span class="va">label</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span></span>
<span>      study <span class="op">=</span> <span class="st">"Fisher1996"</span>,</span>
<span>      treatment <span class="op">=</span> <span class="va">treatment</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>      main_es_method <span class="op">=</span> <span class="st">"diff-in-diffs"</span>,</span>
<span>      </span>
<span>      <span class="co">#Her regner vi den gennemsnitlige Fishers z-score som angivet i formel (12)</span></span>
<span>      mean_z <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">w</span><span class="op">*</span><span class="va">z</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">w</span><span class="op">)</span>,</span>
<span>      <span class="co">#Her beregner vi den gennemsnitlige pre-posttest korrelation som angivet i formel (13) </span></span>
<span>      ppcor <span class="op">=</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="va">mean_z</span><span class="op">)</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="va">mean_z</span><span class="op">)</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>      <span class="co"># Her dokumneterer jeg, hvor vi har fundet pre-posttest korrelationen </span></span>
<span>      ppcor_calc_method <span class="op">=</span> <span class="st">"Calculated from study results"</span>,</span>
<span>      </span>
<span>      <span class="co"># Her laver vi variabler, som viser sample størrelser opdelt på treatment- og kontrolgrupperne</span></span>
<span>      N_t <span class="op">=</span> <span class="va">N</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>      N_c <span class="op">=</span> <span class="va">N</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,</span>
<span>      <span class="co"># Her laver vi en variabler med den totale samplestørrelse</span></span>
<span>      N_tot <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="co"># Her laver vi variablen med antal frihedsgrader, som benyttes hhv. til </span></span>
<span>      <span class="co"># beregne andet led i variansformlerne (3) og (9) samt til at skabe J faktoren</span></span>
<span>      <span class="co"># der bruges til beregne Hedges' g</span></span>
<span>      df_ind <span class="op">=</span> <span class="va">N_tot</span>,</span>
<span>      </span>
<span>      <span class="co"># Her beregnes en pooled standardafvigelse som vist i formel (2)</span></span>
<span>      sd_pool <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="op">(</span><span class="va">N</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="va">sd_post</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">/</span> <span class="va">df_ind</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="co"># Beregning af tælleren i formler (1), (6) og (7) </span></span>
<span>      <span class="co"># Jeg vender her skalen om, da et fald i scoren på de givne skalaer indikerer en positiv fremgang</span></span>
<span>      m_diff_post <span class="op">=</span> <span class="op">(</span><span class="va">m_post</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">-</span><span class="va">m_post</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">*</span><span class="op">-</span><span class="fl">1</span>,</span>
<span>      </span>
<span>      <span class="co"># Beregning af Cohens' d fra formel (1)</span></span>
<span>      d_post <span class="op">=</span> <span class="va">m_diff_post</span><span class="op">/</span><span class="va">sd_pool</span>,</span>
<span>      <span class="co"># variansudregning fra formel (3)</span></span>
<span>      vd_post <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="va">N</span><span class="op">)</span> <span class="op">+</span> <span class="va">d_post</span><span class="op">^</span><span class="fl">2</span><span class="op">/</span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="va">df_ind</span><span class="op">)</span>,</span>
<span>      <span class="co"># Her beregnes det variansled, som er angivet i formel (4) og benyttes til </span></span>
<span>      <span class="co"># publikationsbias testning</span></span>
<span>      Wd_post <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="va">N</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="co"># Beregnig af Hedges' g fra formel (6)</span></span>
<span>      J <span class="op">=</span> <span class="fl">1</span> <span class="op">-</span> <span class="fl">3</span><span class="op">/</span><span class="op">(</span><span class="fl">4</span><span class="op">*</span><span class="va">df_ind</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>      g_post <span class="op">=</span> <span class="va">J</span> <span class="op">*</span> <span class="va">d_post</span>,</span>
<span>      vg_post <span class="op">=</span> <span class="va">vd_post</span>,</span>
<span>      Wg_post <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="va">N</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="co"># Beregnig af Glass' delta fra formel (7). Vi bruger aldrig denne, så den </span></span>
<span>      <span class="co"># er kun med her for eksemplets skyld</span></span>
<span>      sd_control <span class="op">=</span> <span class="va">sd_post</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,</span>
<span>      delta_post <span class="op">=</span> <span class="va">m_diff_post</span><span class="op">/</span><span class="va">sd_control</span>,</span>
<span>      </span>
<span>      <span class="co"># Difference-in-differences (DID) effektstørrelsen</span></span>
<span>      <span class="co"># Her beregner jeg den raw pre-posteffekt forskelle for hhv. treatment og</span></span>
<span>      <span class="co"># gruppen.</span></span>
<span>      diff_t <span class="op">=</span> <span class="op">(</span><span class="va">m_post</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">-</span> <span class="va">m_pre</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">*</span><span class="op">-</span><span class="fl">1</span>,</span>
<span>      diff_c <span class="op">=</span> <span class="op">(</span><span class="va">m_post</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">-</span> <span class="va">m_pre</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">*</span><span class="op">-</span><span class="fl">1</span>,</span>
<span>      </span>
<span>      <span class="co"># Her skaber jeg så tælleren fra formel (8)</span></span>
<span>      DD <span class="op">=</span> <span class="op">(</span><span class="va">diff_t</span> <span class="op">-</span> <span class="va">diff_c</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="co"># Her bergener jeg hele formel (8)</span></span>
<span>      d_DID <span class="op">=</span> <span class="op">(</span><span class="va">diff_t</span> <span class="op">-</span> <span class="va">diff_c</span><span class="op">)</span> <span class="op">/</span> <span class="va">sd_pool</span>,</span>
<span>      <span class="co"># Her beregner jeg formel (9)</span></span>
<span>      vd_DID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="va">N</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">ppcor</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="va">d_DID</span><span class="op">^</span><span class="fl">2</span><span class="op">/</span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="va">df_ind</span><span class="op">)</span>,</span>
<span>      <span class="co"># Hvis man vil beregne standardfejlen istedet tager man blot kvadratroden af variansen</span></span>
<span>      sed_DID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">vd_DID</span><span class="op">)</span>,</span>
<span>      <span class="co"># Her skabes den variabel som benyttes når vi skal gennemføre publikationsbias tests</span></span>
<span>      Wd_DID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="va">N</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">ppcor</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="co"># Her gøres det samme bare hvor vi indregner sample sample bias korrektoreren J</span></span>
<span>      g_DID <span class="op">=</span> <span class="va">J</span> <span class="op">*</span> <span class="va">d_DID</span>,</span>
<span>      vg_DID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="va">N</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">ppcor</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="va">g_DID</span><span class="op">^</span><span class="fl">2</span><span class="op">/</span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="va">df_ind</span><span class="op">)</span>,</span>
<span>      Wg_DID <span class="op">=</span> <span class="va">Wd_DID</span>,</span>
<span>     </span>
<span>     <span class="co"># Effektstørrelserne skal beregne indenfor hver setting og outcome, </span></span>
<span>     <span class="co"># Derfor grupperer jeg beregninger således</span></span>
<span>     .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">setting</span>, <span class="va">outcome</span><span class="op">)</span></span>
<span>      </span>
<span>     </span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/relocate.html" class="external-link">relocate</a></span><span class="op">(</span><span class="va">study</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co"># Her omformer jeg Fisher1996 til et wide format, så det har samme længde, som </span></span>
<span>  <span class="co"># effect størrelsesdatasæt ovenfor</span></span>
<span>  <span class="va">Fisher_raw_dat_wide</span> <span class="op">&lt;-</span> </span>
<span>   <span class="va">Fisher1996</span> <span class="op">|&gt;</span> </span>
<span>   <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">treatment</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">label</span>, <span class="st">"TAU"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>   <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>     treatment <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">if_else</a></span><span class="op">(</span><span class="va">treatment</span> <span class="op">==</span> <span class="va">label</span>, <span class="st">"t"</span>, <span class="st">"c"</span><span class="op">)</span></span>
<span>   <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>   <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span></span>
<span>     names_from <span class="op">=</span> <span class="va">treatment</span>, </span>
<span>     values_from <span class="op">=</span> <span class="va">N</span><span class="op">:</span><span class="va">w</span></span>
<span>   <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    group_t <span class="op">=</span> <span class="va">label</span>,</span>
<span>    group_c <span class="op">=</span> <span class="st">"TAU"</span>  </span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/relocate.html" class="external-link">relocate</a></span><span class="op">(</span><span class="va">group_t</span><span class="op">:</span><span class="va">group_c</span>, .after <span class="op">=</span> <span class="va">setting</span><span class="op">)</span></span>
<span></span>
<span> <span class="co"># Her binder jeg de raw mål sammen med effectstørrelsesudregningerne</span></span>
<span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">Fisher_raw_dat_wide</span>, <span class="va">Fisher_effects</span>, by <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/join_by.html" class="external-link">join_by</a></span><span class="op">(</span><span class="va">outcome</span>, <span class="va">setting</span>, <span class="va">N_t</span>, <span class="va">N_c</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span>  </span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Her bruger jeg funktionen til at beregne effekter for begge treatments holdt op imod den</span></span>
<span><span class="co"># samme kontrol gruppe</span></span>
<span><span class="va">Fisher1996_es</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">treat_label_fisher</span>, <span class="op">~</span> <span class="fu">fisher_func</span><span class="op">(</span><span class="va">.x</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://purrr.tidyverse.org/reference/list_c.html" class="external-link">list_rbind</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    study <span class="op">=</span> <span class="st">"Fisher (1996)"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/relocate.html" class="external-link">relocate</a></span><span class="op">(</span><span class="va">study</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">setting</span>, <span class="va">outcome</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/relocate.html" class="external-link">relocate</a></span><span class="op">(</span><span class="va">setting</span>, .before <span class="op">=</span> <span class="va">outcome</span><span class="op">)</span></span>
<span></span>
<span><span class="va">Fisher1996_es</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 16 × 57</span></span></span>
<span><span class="co">#&gt;    study         setting    outcome     group_t   group_c   N_t   N_c m_pre_t</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Fisher (1996) Inpatient  Alcohol use Disease   TAU         6     7   0.469</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Fisher (1996) Inpatient  Alcohol use Cognitive TAU         6     7   0.441</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Fisher (1996) Inpatient  Drug use    Disease   TAU         6     7   0.107</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Fisher (1996) Inpatient  Drug use    Cognitive TAU         6     7   0.116</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Fisher (1996) Inpatient  Psych func  Disease   TAU         6     7   0.393</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Fisher (1996) Inpatient  Psych func  Cognitive TAU         6     7   0.498</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Fisher (1996) Inpatient  Social      Disease   TAU         6     7   0.342</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Fisher (1996) Inpatient  Social      Cognitive TAU         6     7   0.419</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Fisher (1996) Outpatient Alcohol use Disease   TAU         6     7   0.725</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Fisher (1996) Outpatient Alcohol use Cognitive TAU         6     7   0.598</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> Fisher (1996) Outpatient Drug use    Disease   TAU         6     7   0.219</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> Fisher (1996) Outpatient Drug use    Cognitive TAU         6     7   0.2  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> Fisher (1996) Outpatient Psych func  Disease   TAU         6     7   0.464</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> Fisher (1996) Outpatient Psych func  Cognitive TAU         6     7   0.476</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> Fisher (1996) Outpatient Social      Disease   TAU         6     7   0.683</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> Fisher (1996) Outpatient Social      Cognitive TAU         6     7   0.584</span></span>
<span><span class="co">#&gt;    m_pre_c sd_pre_t sd_pre_c m_post_t m_post_c sd_post_t sd_post_c m_diff_t</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>   0.349     0.12     0.22    0.07     0.141      0.11      0.21    0.399</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>   0.349     0.13     0.22    0.018    0.141      0.05      0.21    0.423</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>   0.117     0.09     0.12    0.001    0.087      0.01      0.12    0.106</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>   0.117     0.1      0.12    0.008    0.087      0.02      0.12    0.108</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>   0.605     0.17     0.15    0.319    0.601      0.14      0.18    0.074</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>   0.605     0.13     0.15    0.442    0.601      0.16      0.18    0.056</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>   0.45      0.21     0.24    0.083    0.489      0.1       0.18    0.259</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>   0.45      0.12     0.24    0.103    0.489      0.1       0.18    0.316</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>   0.682     0.11     0.17    0.521    0.492      0.11      0.27    0.204</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>   0.682     0.16     0.17    0.152    0.492      0.15      0.27    0.446</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span>   0.322     0.11     0.05    0.167    0.216      0.1       0.15    0.052</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span>   0.322     0.12     0.05    0.044    0.216      0.05      0.15    0.196</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span>   0.487     0.14     0.16    0.432    0.472      0.18      0.18    0.032</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span>   0.487     0.12     0.16    0.232    0.472      0.07      0.18    0.244</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span>   0.571     0.04     0.09    0.641    0.514      0.06      0.12    0.042</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span>   0.571     0.05     0.09    0.233    0.514      0.16      0.12    0.351</span></span>
<span><span class="co">#&gt;    m_diff_c sd_diff_t sd_diff_c mean_diff_test_t mean_diff_test_c     r_t    r_c</span></span>
<span><span class="co">#&gt;       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>    0.208      0.02      0.04          0.399           0.208    0.988<span style="text-decoration: underline;">6</span>  0.983<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>    0.208      0.09      0.04          0.423           0.208    0.869<span style="text-decoration: underline;">2</span>  0.983<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>    0.03       0.09      0.02          0.106           0.03     0.055<span style="text-decoration: underline;">56</span> 0.986<span style="text-decoration: underline;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>    0.03       0.09      0.02          0.108           0.03     0.575<span style="text-decoration: underline;">0</span>  0.986<span style="text-decoration: underline;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>    0.004      0.04      0.04          0.074           0.004<span style="text-decoration: underline;">000</span> 0.985<span style="text-decoration: underline;">3</span>  0.987<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>    0.004      0.04      0.04          0.056           0.004<span style="text-decoration: underline;">000</span> 0.983<span style="text-decoration: underline;">2</span>  0.987<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>   -<span style="color: #BB0000;">0.039</span>      0.13      0.07          0.259          -<span style="color: #BB0000;">0.039</span><span style="color: #BB0000; text-decoration: underline;">0</span>   0.885<span style="text-decoration: underline;">7</span>  0.985<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>   -<span style="color: #BB0000;">0.039</span>      0.03      0.07          0.316          -<span style="color: #BB0000;">0.039</span><span style="color: #BB0000; text-decoration: underline;">0</span>   0.979<span style="text-decoration: underline;">2</span>  0.985<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>    0.19       0.01      0.11          0.204           0.19     0.995<span style="text-decoration: underline;">9</span>  0.977<span style="text-decoration: underline;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    0.19       0.02      0.11          0.446           0.19     0.993<span style="text-decoration: underline;">8</span>  0.977<span style="text-decoration: underline;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span>    0.106      0.02      0.11          0.052           0.106    0.986<span style="text-decoration: underline;">4</span>  0.86  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span>    0.106      0.08      0.11          0.156           0.106    0.875   0.86  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span>    0.015      0.05      0.03          0.032<span style="text-decoration: underline;">00</span>         0.015<span style="text-decoration: underline;">00</span>  0.982<span style="text-decoration: underline;">1</span>  0.991<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span>    0.015      0.06      0.03          0.244           0.015<span style="text-decoration: underline;">00</span>  0.934<span style="text-decoration: underline;">5</span>  0.991<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span>    0.057      0.03      0.04          0.042<span style="text-decoration: underline;">00</span>         0.057<span style="text-decoration: underline;">00</span>  0.895<span style="text-decoration: underline;">8</span>  0.967<span style="text-decoration: underline;">6</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span>    0.057      0.12      0.04          0.351           0.057<span style="text-decoration: underline;">00</span>  0.856<span style="text-decoration: underline;">2</span>  0.967<span style="text-decoration: underline;">6</span></span></span>
<span><span class="co">#&gt;        z_t   z_c    v_t   v_c   w_t   w_c treatment main_es_method mean_z  ppcor</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2.582   2.403 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Cognitive diff-in-diffs   1.943 0.959<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 1.330   2.403 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Disease   diff-in-diffs   2.480 0.986<span style="text-decoration: underline;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 0.055<span style="text-decoration: underline;">61</span> 2.481 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Cognitive diff-in-diffs   1.699 0.935<span style="text-decoration: underline;">2</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 0.655<span style="text-decoration: underline;">0</span>  2.481 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Disease   diff-in-diffs   1.442 0.894<span style="text-decoration: underline;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2.453   2.516 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Cognitive diff-in-diffs   2.460 0.985<span style="text-decoration: underline;">5</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2.385   2.516 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Disease   diff-in-diffs   2.489 0.986<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 1.402   2.441 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Cognitive diff-in-diffs   2.371 0.982<span style="text-decoration: underline;">7</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2.277   2.441 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Disease   diff-in-diffs   1.996 0.963<span style="text-decoration: underline;">7</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 3.090   2.230 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Cognitive diff-in-diffs   2.509 0.986<span style="text-decoration: underline;">9</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2.883   2.230 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Disease   diff-in-diffs   2.598 0.989<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> 2.491   1.293 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Cognitive diff-in-diffs   1.319 0.866<span style="text-decoration: underline;">6</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> 1.354   1.293 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Disease   diff-in-diffs   1.806 0.947<span style="text-decoration: underline;">5</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> 2.355   2.718 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Cognitive diff-in-diffs   2.279 0.979<span style="text-decoration: underline;">2</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> 1.693   2.718 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Disease   diff-in-diffs   2.562 0.988<span style="text-decoration: underline;">2</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> 1.451   2.053 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Cognitive diff-in-diffs   1.721 0.938<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> 1.279   2.053 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Disease   diff-in-diffs   1.795 0.946<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt;    ppcor_calc_method             N_tot df_ind sd_pool m_diff_post  d_post</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Calculated from study results    13     13 0.146<span style="text-decoration: underline;">0</span>      0.123    0.842<span style="text-decoration: underline;">5</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Calculated from study results    13     13 0.158<span style="text-decoration: underline;">1</span>      0.071    0.449<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Calculated from study results    13     13 0.082<span style="text-decoration: underline;">46</span>     0.079    0.958<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Calculated from study results    13     13 0.081<span style="text-decoration: underline;">76</span>     0.086    1.052 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Calculated from study results    13     13 0.157<span style="text-decoration: underline;">5</span>      0.159    1.010 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Calculated from study results    13     13 0.150<span style="text-decoration: underline;">0</span>      0.282    1.880 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Calculated from study results    13     13 0.137<span style="text-decoration: underline;">1</span>      0.386    2.815 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Calculated from study results    13     13 0.137<span style="text-decoration: underline;">1</span>      0.406    2.961 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Calculated from study results    13     13 0.205<span style="text-decoration: underline;">7</span>      0.34     1.653 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Calculated from study results    13     13 0.195<span style="text-decoration: underline;">7</span>     -<span style="color: #BB0000;">0.029</span><span style="color: #BB0000; text-decoration: underline;">00</span> -<span style="color: #BB0000;">0.148</span><span style="color: #BB0000; text-decoration: underline;">2</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> Calculated from study results    13     13 0.106<span style="text-decoration: underline;">5</span>      0.172    1.615 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> Calculated from study results    13     13 0.119<span style="text-decoration: underline;">3</span>      0.049    0.410<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> Calculated from study results    13     13 0.129<span style="text-decoration: underline;">8</span>      0.24     1.850 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> Calculated from study results    13     13 0.165<span style="text-decoration: underline;">6</span>      0.040<span style="text-decoration: underline;">0</span>   0.241<span style="text-decoration: underline;">6</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> Calculated from study results    13     13 0.128<span style="text-decoration: underline;">4</span>      0.281    2.188 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> Calculated from study results    13     13 0.089<span style="text-decoration: underline;">61</span>    -<span style="color: #BB0000;">0.127</span>   -<span style="color: #BB0000;">1.417</span> </span></span>
<span><span class="co">#&gt;    vd_post Wd_post      J  g_post vg_post Wg_post sd_control delta_post  diff_t</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  0.336<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  0.792<span style="text-decoration: underline;">9</span>  0.336<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span>       0.21     0.585<span style="text-decoration: underline;">7</span> 0.423  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  0.317<span style="text-decoration: underline;">3</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  0.422<span style="text-decoration: underline;">6</span>  0.317<span style="text-decoration: underline;">3</span>  0.309<span style="text-decoration: underline;">5</span>       0.21     0.338<span style="text-decoration: underline;">1</span> 0.399  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  0.344<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  0.901<span style="text-decoration: underline;">7</span>  0.344<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span>       0.12     0.658<span style="text-decoration: underline;">3</span> 0.108  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  0.352<span style="text-decoration: underline;">1</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  0.990<span style="text-decoration: underline;">0</span>  0.352<span style="text-decoration: underline;">1</span>  0.309<span style="text-decoration: underline;">5</span>       0.12     0.716<span style="text-decoration: underline;">7</span> 0.106  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  0.348<span style="text-decoration: underline;">7</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  0.950<span style="text-decoration: underline;">3</span>  0.348<span style="text-decoration: underline;">7</span>  0.309<span style="text-decoration: underline;">5</span>       0.18     0.883<span style="text-decoration: underline;">3</span> 0.056  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  0.445<span style="text-decoration: underline;">5</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  1.770   0.445<span style="text-decoration: underline;">5</span>  0.309<span style="text-decoration: underline;">5</span>       0.18     1.567  0.074  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  0.614<span style="text-decoration: underline;">3</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  2.650   0.614<span style="text-decoration: underline;">3</span>  0.309<span style="text-decoration: underline;">5</span>       0.18     2.144  0.316  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  0.646<span style="text-decoration: underline;">7</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  2.787   0.646<span style="text-decoration: underline;">7</span>  0.309<span style="text-decoration: underline;">5</span>       0.18     2.256  0.259  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  0.414<span style="text-decoration: underline;">6</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  1.556   0.414<span style="text-decoration: underline;">6</span>  0.309<span style="text-decoration: underline;">5</span>       0.27     1.259  0.446  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  0.310<span style="text-decoration: underline;">4</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span> -<span style="color: #BB0000;">0.139</span><span style="color: #BB0000; text-decoration: underline;">5</span>  0.310<span style="text-decoration: underline;">4</span>  0.309<span style="text-decoration: underline;">5</span>       0.27    -<span style="color: #BB0000;">0.107</span><span style="color: #BB0000; text-decoration: underline;">4</span> 0.204  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span>  0.409<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  1.520   0.409<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span>       0.15     1.147  0.156  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span>  0.316<span style="text-decoration: underline;">0</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  0.386<span style="text-decoration: underline;">6</span>  0.316<span style="text-decoration: underline;">0</span>  0.309<span style="text-decoration: underline;">5</span>       0.15     0.326<span style="text-decoration: underline;">7</span> 0.052  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span>  0.441<span style="text-decoration: underline;">1</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  1.741   0.441<span style="text-decoration: underline;">1</span>  0.309<span style="text-decoration: underline;">5</span>       0.18     1.333  0.244  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span>  0.311<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  0.227<span style="text-decoration: underline;">4</span>  0.311<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span>       0.18     0.222<span style="text-decoration: underline;">2</span> 0.032<span style="text-decoration: underline;">00</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span>  0.493<span style="text-decoration: underline;">7</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  2.059   0.493<span style="text-decoration: underline;">7</span>  0.309<span style="text-decoration: underline;">5</span>       0.12     2.342  0.351  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span>  0.386<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span> -<span style="color: #BB0000;">1.334</span>   0.386<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span>       0.12    -<span style="color: #BB0000;">1.058</span>  0.042<span style="text-decoration: underline;">00</span></span></span>
<span><span class="co">#&gt;       diff_c       DD    d_DID   vd_DID sed_DID   Wd_DID    g_DID   vg_DID</span></span>
<span><span class="co">#&gt;        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  0.208     0.215    1.473   0.108<span style="text-decoration: underline;">3</span>   0.329<span style="text-decoration: underline;">1</span>  0.024<span style="text-decoration: underline;">90</span>   1.386   0.098<span style="text-decoration: underline;">79</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  0.208     0.191    1.208   0.064<span style="text-decoration: underline;">73</span>  0.254<span style="text-decoration: underline;">4</span>  0.008<span style="text-decoration: underline;">626</span>  1.137   0.058<span style="text-decoration: underline;">33</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  0.03      0.078    0.945<span style="text-decoration: underline;">9</span>  0.074<span style="text-decoration: underline;">50</span>  0.272<span style="text-decoration: underline;">9</span>  0.040<span style="text-decoration: underline;">09</span>   0.890<span style="text-decoration: underline;">2</span>  0.070<span style="text-decoration: underline;">57</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  0.03      0.076    0.929<span style="text-decoration: underline;">6</span>  0.098<span style="text-decoration: underline;">82</span>  0.314<span style="text-decoration: underline;">4</span>  0.065<span style="text-decoration: underline;">58</span>   0.874<span style="text-decoration: underline;">9</span>  0.095<span style="text-decoration: underline;">02</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  0.004<span style="text-decoration: underline;">000</span>  0.052    0.330<span style="text-decoration: underline;">2</span>  0.013<span style="text-decoration: underline;">17</span>  0.114<span style="text-decoration: underline;">8</span>  0.008<span style="text-decoration: underline;">975</span>  0.310<span style="text-decoration: underline;">8</span>  0.012<span style="text-decoration: underline;">69</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  0.004<span style="text-decoration: underline;">000</span>  0.07     0.466<span style="text-decoration: underline;">7</span>  0.016<span style="text-decoration: underline;">85</span>  0.129<span style="text-decoration: underline;">8</span>  0.008<span style="text-decoration: underline;">471</span>  0.439<span style="text-decoration: underline;">3</span>  0.015<span style="text-decoration: underline;">89</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> -<span style="color: #BB0000;">0.039</span><span style="color: #BB0000; text-decoration: underline;">0</span>    0.355    2.589   0.268<span style="text-decoration: underline;">5</span>   0.518<span style="text-decoration: underline;">2</span>  0.010<span style="text-decoration: underline;">71</span>   2.437   0.239<span style="text-decoration: underline;">1</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> -<span style="color: #BB0000;">0.039</span><span style="color: #BB0000; text-decoration: underline;">0</span>    0.298    2.173   0.204<span style="text-decoration: underline;">1</span>   0.451<span style="text-decoration: underline;">8</span>  0.022<span style="text-decoration: underline;">46</span>   2.046   0.183<span style="text-decoration: underline;">4</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  0.19      0.256    1.245   0.067<span style="text-decoration: underline;">72</span>  0.260<span style="text-decoration: underline;">2</span>  0.008<span style="text-decoration: underline;">132</span>  1.171   0.060<span style="text-decoration: underline;">92</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  0.19      0.014<span style="text-decoration: underline;">00</span>  0.071<span style="text-decoration: underline;">54</span> 0.007<span style="text-decoration: underline;">011</span> 0.083<span style="text-decoration: underline;">73</span> 0.006<span style="text-decoration: underline;">814</span>  0.067<span style="text-decoration: underline;">33</span> 0.006<span style="text-decoration: underline;">989</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span>  0.106     0.05     0.469<span style="text-decoration: underline;">4</span>  0.091<span style="text-decoration: underline;">04</span>  0.301<span style="text-decoration: underline;">7</span>  0.082<span style="text-decoration: underline;">57</span>   0.441<span style="text-decoration: underline;">8</span>  0.090<span style="text-decoration: underline;">07</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span>  0.106    -<span style="color: #BB0000;">0.054</span>   -<span style="color: #BB0000;">0.452</span><span style="color: #BB0000; text-decoration: underline;">7</span>  0.040<span style="text-decoration: underline;">40</span>  0.201<span style="text-decoration: underline;">0</span>  0.032<span style="text-decoration: underline;">52</span>  -<span style="color: #BB0000;">0.426</span><span style="color: #BB0000; text-decoration: underline;">0</span>  0.039<span style="text-decoration: underline;">50</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span>  0.015<span style="text-decoration: underline;">00</span>   0.229    1.765   0.132<span style="text-decoration: underline;">6</span>   0.364<span style="text-decoration: underline;">2</span>  0.012<span style="text-decoration: underline;">86</span>   1.661   0.119<span style="text-decoration: underline;">0</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span>  0.015<span style="text-decoration: underline;">00</span>   0.017<span style="text-decoration: underline;">00</span>  0.102<span style="text-decoration: underline;">7</span>  0.007<span style="text-decoration: underline;">729</span> 0.087<span style="text-decoration: underline;">91</span> 0.007<span style="text-decoration: underline;">323</span>  0.096<span style="text-decoration: underline;">63</span> 0.007<span style="text-decoration: underline;">682</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span>  0.057<span style="text-decoration: underline;">00</span>   0.294    2.289   0.239<span style="text-decoration: underline;">9</span>   0.489<span style="text-decoration: underline;">8</span>  0.038<span style="text-decoration: underline;">36</span>   2.155   0.216<span style="text-decoration: underline;">9</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span>  0.057<span style="text-decoration: underline;">00</span>  -<span style="color: #BB0000;">0.015</span><span style="color: #BB0000; text-decoration: underline;">00</span> -<span style="color: #BB0000;">0.167</span><span style="color: #BB0000; text-decoration: underline;">4</span>  0.034<span style="text-decoration: underline;">33</span>  0.185<span style="text-decoration: underline;">3</span>  0.033<span style="text-decoration: underline;">26</span>  -<span style="color: #BB0000;">0.157</span><span style="color: #BB0000; text-decoration: underline;">5</span>  0.034<span style="text-decoration: underline;">21</span> </span></span>
<span><span class="co">#&gt;      Wg_DID</span></span>
<span><span class="co">#&gt;       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 0.024<span style="text-decoration: underline;">90</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 0.008<span style="text-decoration: underline;">626</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 0.040<span style="text-decoration: underline;">09</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 0.065<span style="text-decoration: underline;">58</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 0.008<span style="text-decoration: underline;">975</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 0.008<span style="text-decoration: underline;">471</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 0.010<span style="text-decoration: underline;">71</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 0.022<span style="text-decoration: underline;">46</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 0.008<span style="text-decoration: underline;">132</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 0.006<span style="text-decoration: underline;">814</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> 0.082<span style="text-decoration: underline;">57</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> 0.032<span style="text-decoration: underline;">52</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> 0.012<span style="text-decoration: underline;">86</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> 0.007<span style="text-decoration: underline;">323</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> 0.038<span style="text-decoration: underline;">36</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> 0.033<span style="text-decoration: underline;">26</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="cluster-bias-korrektion-når-der-kun-er-klustering-i-en-gruppe">Cluster bias korrektion når der kun er klustering i en gruppe<a class="anchor" aria-label="anchor" href="#cluster-bias-korrektion-n%C3%A5r-der-kun-er-klustering-i-en-gruppe"></a>
</h3>
<p><br><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><msub><mi>t</mi><mrow><mi>D</mi><mi>I</mi><mi>D</mi></mrow></msub><mo>=</mo><mi>ω</mi><mrow><mo stretchy="true" form="prefix">(</mo><mfrac><mrow><msubsup><mi>M</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>T</mi></msubsup><mo>−</mo><msubsup><mi>M</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mi>C</mi></msubsup></mrow><mrow><mi>S</mi><msub><mi>D</mi><mrow><mi>p</mi><mi>o</mi><mi>o</mi><mi>l</mi></mrow></msub></mrow></mfrac><mo stretchy="true" form="postfix">)</mo></mrow><mi>γ</mi></mrow><annotation encoding="application/x-tex">\begin{equation}
  \tag{15}
   gt_{DID} = \omega\left(\frac{M^T_{post} - M^C_{post}}{SD_{pool}}\right)\gamma
\end{equation}</annotation></semantics></math><br></p>
<p>hvor
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ω</mi><mo>=</mo><mn>1</mn><mo>−</mo><mn>3</mn><mi>/</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>4</mn><mo>−</mo><mi>d</mi><msub><mi>f</mi><mi>h</mi></msub><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\omega = 1 - 3/(4-df_h-1)</annotation></semantics></math>,
hvor
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><msub><mi>f</mi><mi>h</mi></msub></mrow><annotation encoding="application/x-tex">df_h</annotation></semantics></math>
er de klusterjusterede frihedsgrader, som beregnes for således når der
kun er klustering i en gruppe</p>
<p><br><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo>=</mo><mfrac displaystyle="true"><msup><mrow><mo stretchy="true" form="prefix">[</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>N</mi><mo>−</mo><mn>2</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mn>2</mn><mrow><mo stretchy="true" form="prefix">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><mi>ρ</mi><mo stretchy="true" form="postfix">]</mo></mrow><mn>2</mn></msup><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>N</mi><mo>−</mo><mn>2</mn><mo stretchy="true" form="postfix">)</mo></mrow><msup><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>−</mo><mi>ρ</mi><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup><mo>+</mo><mi>n</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>N</mi><mo>−</mo><mn>2</mn><mi>n</mi><mo stretchy="true" form="postfix">)</mo></mrow><msup><mi>ρ</mi><mn>2</mn></msup><mo>+</mo><mn>2</mn><mrow><mo stretchy="true" form="prefix">(</mo><mi>N</mi><mo>−</mo><mn>2</mn><mi>n</mi><mo stretchy="true" form="postfix">)</mo></mrow><mi>ρ</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>−</mo><mi>ρ</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex">\begin{equation}
  \tag{16}
   h = \dfrac{[(N-2)-2(n-1)\rho]^2}{(N-2)(1-\rho)^2 + n(N-2n)\rho^2 + 2(N-2n)\rho(1-\rho)}
\end{equation}</annotation></semantics></math><br></p>
<p>i formel 14 er
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi><mo>=</mo><msqrt><mrow><mn>1</mn><mo>−</mo><mfrac><mrow><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>N</mi><mi>c</mi></msup><mo>+</mo><mi>n</mi><mo>−</mo><mn>2</mn><mo stretchy="true" form="postfix">)</mo></mrow><msub><mi>ρ</mi><mrow><mi>I</mi><mi>C</mi><mi>C</mi></mrow></msub></mrow><mrow></mrow></mfrac></mrow></msqrt></mrow><annotation encoding="application/x-tex">\gamma = \sqrt{1-\frac{(N^c +n-2)\rho_{ICC}}{}}</annotation></semantics></math></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Imputerede ICC-værdier</span></span>
<span><span class="va">icc_005</span> <span class="op">&lt;-</span> <span class="fl">0.05</span> <span class="co"># Bruges til sensitivitetsanalyse</span></span>
<span><span class="va">icc_01</span> <span class="op">&lt;-</span> <span class="fl">0.1</span></span>
<span><span class="va">icc_02</span> <span class="op">&lt;-</span> <span class="fl">0.2</span> <span class="co"># Bruges til sensitivitetsanalyse</span></span>
<span></span>
<span><span class="va">Fisher1996_est</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">Fisher1996_es</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rowwise.html" class="external-link">rowwise</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="co"># klusterkorrigering</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    </span>
<span>    <span class="co"># Gruppestørrelsen kan ikke findes i Fisher 1996, så her imputerer vi blot den </span></span>
<span>    <span class="co"># gennemsnitlige gruppestørrelse for eksemplet skyld</span></span>
<span>    n_group <span class="op">=</span> <span class="fl">5</span>,</span>
<span>    <span class="co"># Laver variabel med den imputere ICC værdi</span></span>
<span>    icc <span class="op">=</span> <span class="va">icc_01</span>,</span>
<span>    <span class="co"># Laver variabel som dokumenterer hvor vi fandt ICC-værdieen</span></span>
<span>    icc_type <span class="op">=</span> <span class="st">"Imputed"</span>,</span>
<span>    </span>
<span>    gamma_sqrt <span class="op">=</span> <span class="fu">VIVECampbell</span><span class="fu">::</span><span class="fu"><a href="../reference/gamma_1armcluster.html">gamma_1armcluster</a></span><span class="op">(</span></span>
<span>      N_total <span class="op">=</span> <span class="va">N_tot</span>, Nc <span class="op">=</span> <span class="va">N_c</span>, avg_grp_size <span class="op">=</span> <span class="va">n_group</span>, ICC <span class="op">=</span> <span class="va">icc</span>, sqrt <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>    <span class="op">)</span>, </span>
<span>    gamma_sqrt_test <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="op">(</span><span class="va">N_c</span> <span class="op">+</span> <span class="va">n_group</span><span class="op">-</span><span class="fl">2</span><span class="op">)</span><span class="op">*</span><span class="va">icc</span><span class="op">/</span><span class="op">(</span><span class="va">N_tot</span><span class="op">-</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span>, </span>
<span>    </span>
<span>    h <span class="op">=</span> <span class="fu"><a href="../reference/df_h_1armcluster.html">df_h_1armcluster</a></span><span class="op">(</span>N_total <span class="op">=</span> <span class="va">N_tot</span>, ICC <span class="op">=</span> <span class="va">icc</span>, N_grp <span class="op">=</span> <span class="va">N_t</span>, avg_grp_size <span class="op">=</span> <span class="va">n_group</span><span class="op">)</span>,</span>
<span>    omega <span class="op">=</span> <span class="fl">1</span> <span class="op">-</span> <span class="fl">3</span><span class="op">/</span><span class="op">(</span><span class="fl">4</span><span class="op">*</span><span class="va">h</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>      </span>
<span>    gt_post <span class="op">=</span> <span class="va">omega</span> <span class="op">*</span> <span class="va">d_post</span> <span class="op">*</span> <span class="va">gamma_sqrt</span>,</span>
<span>    <span class="fu">VIVECampbell</span><span class="fu">::</span><span class="fu"><a href="../reference/vgt_smd_1armcluster.html">vgt_smd_1armcluster</a></span><span class="op">(</span></span>
<span>      N_cl_grp <span class="op">=</span> <span class="va">N_t</span>, </span>
<span>      N_ind_grp <span class="op">=</span> <span class="va">N_c</span>, </span>
<span>      avg_grp_size <span class="op">=</span> <span class="va">n_group</span>,</span>
<span>      ICC <span class="op">=</span> <span class="va">icc</span>, </span>
<span>      g <span class="op">=</span> <span class="va">gt_post</span>, </span>
<span>      model <span class="op">=</span> <span class="st">"posttest"</span>,</span>
<span>      add_name_to_vars <span class="op">=</span> <span class="st">"_post"</span>,</span>
<span>      vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">vgt_post</span>, <span class="va">Wgt_post</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    </span>
<span>    gt_DID <span class="op">=</span> <span class="va">omega</span> <span class="op">*</span> <span class="va">d_DID</span> <span class="op">*</span> <span class="va">gamma_sqrt</span>,</span>
<span>    <span class="fu">VIVECampbell</span><span class="fu">::</span><span class="fu"><a href="../reference/vgt_smd_1armcluster.html">vgt_smd_1armcluster</a></span><span class="op">(</span></span>
<span>      N_cl_grp <span class="op">=</span> <span class="va">N_t</span>, </span>
<span>      N_ind_grp <span class="op">=</span> <span class="va">N_c</span>, </span>
<span>      avg_grp_size <span class="op">=</span> <span class="va">n_group</span>,</span>
<span>      ICC <span class="op">=</span> <span class="va">icc</span>, </span>
<span>      g <span class="op">=</span> <span class="va">gt_DID</span>, </span>
<span>      model <span class="op">=</span> <span class="st">"DiD"</span>,</span>
<span>      prepost_cor <span class="op">=</span> <span class="va">ppcor</span>,</span>
<span>      add_name_to_vars <span class="op">=</span> <span class="st">"_DID"</span>,</span>
<span>      vars <span class="op">=</span> <span class="op">-</span><span class="va">var_term1_DID</span></span>
<span>    <span class="op">)</span>,</span>
<span>    </span>
<span>    <span class="co"># Disse variabler skabes til at lave sensitivitetsanalyser</span></span>
<span>    </span>
<span>    <span class="co"># Her antager vi at ICC = 0.05</span></span>
<span>    gamma_sqrt_005 <span class="op">=</span> <span class="fu">VIVECampbell</span><span class="fu">::</span><span class="fu"><a href="../reference/gamma_1armcluster.html">gamma_1armcluster</a></span><span class="op">(</span></span>
<span>      N_total <span class="op">=</span> <span class="va">N_tot</span>, Nc <span class="op">=</span> <span class="va">N_c</span>, avg_grp_size <span class="op">=</span> <span class="va">n_group</span>, ICC <span class="op">=</span> <span class="va">icc_005</span>, sqrt <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>    <span class="op">)</span>, </span>
<span>    h_005 <span class="op">=</span> <span class="fu"><a href="../reference/df_h_1armcluster.html">df_h_1armcluster</a></span><span class="op">(</span>N_total <span class="op">=</span> <span class="va">N_tot</span>, ICC <span class="op">=</span> <span class="va">icc_005</span>, N_grp <span class="op">=</span> <span class="va">N_t</span>, avg_grp_size <span class="op">=</span> <span class="va">n_group</span><span class="op">)</span>,</span>
<span>    omega_005 <span class="op">=</span> <span class="fl">1</span> <span class="op">-</span> <span class="fl">3</span><span class="op">/</span><span class="op">(</span><span class="fl">4</span><span class="op">*</span><span class="va">h_005</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>    </span>
<span>    gt_DID_005 <span class="op">=</span> <span class="va">omega_005</span> <span class="op">*</span> <span class="va">d_DID</span> <span class="op">*</span> <span class="va">gamma_sqrt_005</span>,</span>
<span>    <span class="fu">VIVECampbell</span><span class="fu">::</span><span class="fu"><a href="../reference/vgt_smd_1armcluster.html">vgt_smd_1armcluster</a></span><span class="op">(</span></span>
<span>      N_cl_grp <span class="op">=</span> <span class="va">N_t</span>, </span>
<span>      N_ind_grp <span class="op">=</span> <span class="va">N_c</span>, </span>
<span>      avg_grp_size <span class="op">=</span> <span class="va">n_group</span>,</span>
<span>      ICC <span class="op">=</span> <span class="va">icc_005</span>, <span class="co"># Husk at ændre denne</span></span>
<span>      g <span class="op">=</span> <span class="va">gt_DID_005</span>, <span class="co">#Husk at ændre denne</span></span>
<span>      model <span class="op">=</span> <span class="st">"DiD"</span>,</span>
<span>      prepost_cor <span class="op">=</span> <span class="va">ppcor</span>,</span>
<span>      add_name_to_vars <span class="op">=</span> <span class="st">"_DID_005"</span>,</span>
<span>      vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">vgt_DID_005</span>, <span class="va">Wgt_DID_005</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    </span>
<span>    <span class="co"># Her antager vi at ICC = 0.2</span></span>
<span>    gamma_sqrt_02 <span class="op">=</span> <span class="fu">VIVECampbell</span><span class="fu">::</span><span class="fu"><a href="../reference/gamma_1armcluster.html">gamma_1armcluster</a></span><span class="op">(</span></span>
<span>      N_total <span class="op">=</span> <span class="va">N_tot</span>, Nc <span class="op">=</span> <span class="va">N_c</span>, avg_grp_size <span class="op">=</span> <span class="va">n_group</span>, ICC <span class="op">=</span> <span class="va">icc_02</span>, sqrt <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>    <span class="op">)</span>, </span>
<span>    h_02 <span class="op">=</span> <span class="fu"><a href="../reference/df_h_1armcluster.html">df_h_1armcluster</a></span><span class="op">(</span>N_total <span class="op">=</span> <span class="va">N_tot</span>, ICC <span class="op">=</span> <span class="va">icc_02</span>, N_grp <span class="op">=</span> <span class="va">N_t</span>, avg_grp_size <span class="op">=</span> <span class="va">n_group</span><span class="op">)</span>,</span>
<span>    omega_02 <span class="op">=</span> <span class="fl">1</span> <span class="op">-</span> <span class="fl">3</span><span class="op">/</span><span class="op">(</span><span class="fl">4</span><span class="op">*</span><span class="va">h_02</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>    </span>
<span>    gt_DID_02 <span class="op">=</span> <span class="va">omega_02</span> <span class="op">*</span> <span class="va">d_DID</span> <span class="op">*</span> <span class="va">gamma_sqrt_02</span>,</span>
<span>    <span class="fu">VIVECampbell</span><span class="fu">::</span><span class="fu"><a href="../reference/vgt_smd_1armcluster.html">vgt_smd_1armcluster</a></span><span class="op">(</span></span>
<span>      N_cl_grp <span class="op">=</span> <span class="va">N_t</span>, </span>
<span>      N_ind_grp <span class="op">=</span> <span class="va">N_c</span>, </span>
<span>      avg_grp_size <span class="op">=</span> <span class="va">n_group</span>,</span>
<span>      ICC <span class="op">=</span> <span class="va">icc_02</span>, </span>
<span>      g <span class="op">=</span> <span class="va">gt_DID_02</span>, </span>
<span>      model <span class="op">=</span> <span class="st">"DiD"</span>,</span>
<span>      prepost_cor <span class="op">=</span> <span class="va">ppcor</span>,</span>
<span>      add_name_to_vars <span class="op">=</span> <span class="st">"_DID_02"</span>,</span>
<span>      vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">vgt_DID_02</span>, <span class="va">Wgt_DID_02</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    </span>
<span>    vary_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">setting</span>, <span class="va">outcome</span>, <span class="va">treatment</span>, sep <span class="op">=</span> <span class="st">"/"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">Fisher1996_est</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 16 × 90</span></span></span>
<span><span class="co">#&gt;    study         setting    outcome     group_t   group_c   N_t   N_c m_pre_t</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Fisher (1996) Inpatient  Alcohol use Disease   TAU         6     7   0.469</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Fisher (1996) Inpatient  Alcohol use Cognitive TAU         6     7   0.441</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Fisher (1996) Inpatient  Drug use    Disease   TAU         6     7   0.107</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Fisher (1996) Inpatient  Drug use    Cognitive TAU         6     7   0.116</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Fisher (1996) Inpatient  Psych func  Disease   TAU         6     7   0.393</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Fisher (1996) Inpatient  Psych func  Cognitive TAU         6     7   0.498</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Fisher (1996) Inpatient  Social      Disease   TAU         6     7   0.342</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Fisher (1996) Inpatient  Social      Cognitive TAU         6     7   0.419</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Fisher (1996) Outpatient Alcohol use Disease   TAU         6     7   0.725</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Fisher (1996) Outpatient Alcohol use Cognitive TAU         6     7   0.598</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> Fisher (1996) Outpatient Drug use    Disease   TAU         6     7   0.219</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> Fisher (1996) Outpatient Drug use    Cognitive TAU         6     7   0.2  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> Fisher (1996) Outpatient Psych func  Disease   TAU         6     7   0.464</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> Fisher (1996) Outpatient Psych func  Cognitive TAU         6     7   0.476</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> Fisher (1996) Outpatient Social      Disease   TAU         6     7   0.683</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> Fisher (1996) Outpatient Social      Cognitive TAU         6     7   0.584</span></span>
<span><span class="co">#&gt;    m_pre_c sd_pre_t sd_pre_c m_post_t m_post_c sd_post_t sd_post_c m_diff_t</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>   0.349     0.12     0.22    0.07     0.141      0.11      0.21    0.399</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>   0.349     0.13     0.22    0.018    0.141      0.05      0.21    0.423</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>   0.117     0.09     0.12    0.001    0.087      0.01      0.12    0.106</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>   0.117     0.1      0.12    0.008    0.087      0.02      0.12    0.108</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>   0.605     0.17     0.15    0.319    0.601      0.14      0.18    0.074</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>   0.605     0.13     0.15    0.442    0.601      0.16      0.18    0.056</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>   0.45      0.21     0.24    0.083    0.489      0.1       0.18    0.259</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>   0.45      0.12     0.24    0.103    0.489      0.1       0.18    0.316</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>   0.682     0.11     0.17    0.521    0.492      0.11      0.27    0.204</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>   0.682     0.16     0.17    0.152    0.492      0.15      0.27    0.446</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span>   0.322     0.11     0.05    0.167    0.216      0.1       0.15    0.052</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span>   0.322     0.12     0.05    0.044    0.216      0.05      0.15    0.196</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span>   0.487     0.14     0.16    0.432    0.472      0.18      0.18    0.032</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span>   0.487     0.12     0.16    0.232    0.472      0.07      0.18    0.244</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span>   0.571     0.04     0.09    0.641    0.514      0.06      0.12    0.042</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span>   0.571     0.05     0.09    0.233    0.514      0.16      0.12    0.351</span></span>
<span><span class="co">#&gt;    m_diff_c sd_diff_t sd_diff_c mean_diff_test_t mean_diff_test_c     r_t    r_c</span></span>
<span><span class="co">#&gt;       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>    0.208      0.02      0.04          0.399           0.208    0.988<span style="text-decoration: underline;">6</span>  0.983<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>    0.208      0.09      0.04          0.423           0.208    0.869<span style="text-decoration: underline;">2</span>  0.983<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>    0.03       0.09      0.02          0.106           0.03     0.055<span style="text-decoration: underline;">56</span> 0.986<span style="text-decoration: underline;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>    0.03       0.09      0.02          0.108           0.03     0.575<span style="text-decoration: underline;">0</span>  0.986<span style="text-decoration: underline;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>    0.004      0.04      0.04          0.074           0.004<span style="text-decoration: underline;">000</span> 0.985<span style="text-decoration: underline;">3</span>  0.987<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>    0.004      0.04      0.04          0.056           0.004<span style="text-decoration: underline;">000</span> 0.983<span style="text-decoration: underline;">2</span>  0.987<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>   -<span style="color: #BB0000;">0.039</span>      0.13      0.07          0.259          -<span style="color: #BB0000;">0.039</span><span style="color: #BB0000; text-decoration: underline;">0</span>   0.885<span style="text-decoration: underline;">7</span>  0.985<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>   -<span style="color: #BB0000;">0.039</span>      0.03      0.07          0.316          -<span style="color: #BB0000;">0.039</span><span style="color: #BB0000; text-decoration: underline;">0</span>   0.979<span style="text-decoration: underline;">2</span>  0.985<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>    0.19       0.01      0.11          0.204           0.19     0.995<span style="text-decoration: underline;">9</span>  0.977<span style="text-decoration: underline;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    0.19       0.02      0.11          0.446           0.19     0.993<span style="text-decoration: underline;">8</span>  0.977<span style="text-decoration: underline;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span>    0.106      0.02      0.11          0.052           0.106    0.986<span style="text-decoration: underline;">4</span>  0.86  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span>    0.106      0.08      0.11          0.156           0.106    0.875   0.86  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span>    0.015      0.05      0.03          0.032<span style="text-decoration: underline;">00</span>         0.015<span style="text-decoration: underline;">00</span>  0.982<span style="text-decoration: underline;">1</span>  0.991<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span>    0.015      0.06      0.03          0.244           0.015<span style="text-decoration: underline;">00</span>  0.934<span style="text-decoration: underline;">5</span>  0.991<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span>    0.057      0.03      0.04          0.042<span style="text-decoration: underline;">00</span>         0.057<span style="text-decoration: underline;">00</span>  0.895<span style="text-decoration: underline;">8</span>  0.967<span style="text-decoration: underline;">6</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span>    0.057      0.12      0.04          0.351           0.057<span style="text-decoration: underline;">00</span>  0.856<span style="text-decoration: underline;">2</span>  0.967<span style="text-decoration: underline;">6</span></span></span>
<span><span class="co">#&gt;        z_t   z_c    v_t   v_c   w_t   w_c treatment main_es_method mean_z  ppcor</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2.582   2.403 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Cognitive diff-in-diffs   1.943 0.959<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 1.330   2.403 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Disease   diff-in-diffs   2.480 0.986<span style="text-decoration: underline;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 0.055<span style="text-decoration: underline;">61</span> 2.481 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Cognitive diff-in-diffs   1.699 0.935<span style="text-decoration: underline;">2</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 0.655<span style="text-decoration: underline;">0</span>  2.481 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Disease   diff-in-diffs   1.442 0.894<span style="text-decoration: underline;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2.453   2.516 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Cognitive diff-in-diffs   2.460 0.985<span style="text-decoration: underline;">5</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2.385   2.516 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Disease   diff-in-diffs   2.489 0.986<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 1.402   2.441 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Cognitive diff-in-diffs   2.371 0.982<span style="text-decoration: underline;">7</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2.277   2.441 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Disease   diff-in-diffs   1.996 0.963<span style="text-decoration: underline;">7</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 3.090   2.230 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Cognitive diff-in-diffs   2.509 0.986<span style="text-decoration: underline;">9</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2.883   2.230 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Disease   diff-in-diffs   2.598 0.989<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> 2.491   1.293 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Cognitive diff-in-diffs   1.319 0.866<span style="text-decoration: underline;">6</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> 1.354   1.293 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Disease   diff-in-diffs   1.806 0.947<span style="text-decoration: underline;">5</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> 2.355   2.718 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Cognitive diff-in-diffs   2.279 0.979<span style="text-decoration: underline;">2</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> 1.693   2.718 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Disease   diff-in-diffs   2.562 0.988<span style="text-decoration: underline;">2</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> 1.451   2.053 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Cognitive diff-in-diffs   1.721 0.938<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> 1.279   2.053 0.333<span style="text-decoration: underline;">3</span>  0.25     3     4 Disease   diff-in-diffs   1.795 0.946<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt;    ppcor_calc_method             N_tot df_ind sd_pool m_diff_post  d_post</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Calculated from study results    13     13 0.146<span style="text-decoration: underline;">0</span>      0.123    0.842<span style="text-decoration: underline;">5</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Calculated from study results    13     13 0.158<span style="text-decoration: underline;">1</span>      0.071    0.449<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Calculated from study results    13     13 0.082<span style="text-decoration: underline;">46</span>     0.079    0.958<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Calculated from study results    13     13 0.081<span style="text-decoration: underline;">76</span>     0.086    1.052 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Calculated from study results    13     13 0.157<span style="text-decoration: underline;">5</span>      0.159    1.010 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Calculated from study results    13     13 0.150<span style="text-decoration: underline;">0</span>      0.282    1.880 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Calculated from study results    13     13 0.137<span style="text-decoration: underline;">1</span>      0.386    2.815 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Calculated from study results    13     13 0.137<span style="text-decoration: underline;">1</span>      0.406    2.961 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Calculated from study results    13     13 0.205<span style="text-decoration: underline;">7</span>      0.34     1.653 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Calculated from study results    13     13 0.195<span style="text-decoration: underline;">7</span>     -<span style="color: #BB0000;">0.029</span><span style="color: #BB0000; text-decoration: underline;">00</span> -<span style="color: #BB0000;">0.148</span><span style="color: #BB0000; text-decoration: underline;">2</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> Calculated from study results    13     13 0.106<span style="text-decoration: underline;">5</span>      0.172    1.615 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> Calculated from study results    13     13 0.119<span style="text-decoration: underline;">3</span>      0.049    0.410<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> Calculated from study results    13     13 0.129<span style="text-decoration: underline;">8</span>      0.24     1.850 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> Calculated from study results    13     13 0.165<span style="text-decoration: underline;">6</span>      0.040<span style="text-decoration: underline;">0</span>   0.241<span style="text-decoration: underline;">6</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> Calculated from study results    13     13 0.128<span style="text-decoration: underline;">4</span>      0.281    2.188 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> Calculated from study results    13     13 0.089<span style="text-decoration: underline;">61</span>    -<span style="color: #BB0000;">0.127</span>   -<span style="color: #BB0000;">1.417</span> </span></span>
<span><span class="co">#&gt;    vd_post Wd_post      J  g_post vg_post Wg_post sd_control delta_post  diff_t</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  0.336<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  0.792<span style="text-decoration: underline;">9</span>  0.336<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span>       0.21     0.585<span style="text-decoration: underline;">7</span> 0.423  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  0.317<span style="text-decoration: underline;">3</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  0.422<span style="text-decoration: underline;">6</span>  0.317<span style="text-decoration: underline;">3</span>  0.309<span style="text-decoration: underline;">5</span>       0.21     0.338<span style="text-decoration: underline;">1</span> 0.399  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  0.344<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  0.901<span style="text-decoration: underline;">7</span>  0.344<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span>       0.12     0.658<span style="text-decoration: underline;">3</span> 0.108  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  0.352<span style="text-decoration: underline;">1</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  0.990<span style="text-decoration: underline;">0</span>  0.352<span style="text-decoration: underline;">1</span>  0.309<span style="text-decoration: underline;">5</span>       0.12     0.716<span style="text-decoration: underline;">7</span> 0.106  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  0.348<span style="text-decoration: underline;">7</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  0.950<span style="text-decoration: underline;">3</span>  0.348<span style="text-decoration: underline;">7</span>  0.309<span style="text-decoration: underline;">5</span>       0.18     0.883<span style="text-decoration: underline;">3</span> 0.056  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  0.445<span style="text-decoration: underline;">5</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  1.770   0.445<span style="text-decoration: underline;">5</span>  0.309<span style="text-decoration: underline;">5</span>       0.18     1.567  0.074  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  0.614<span style="text-decoration: underline;">3</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  2.650   0.614<span style="text-decoration: underline;">3</span>  0.309<span style="text-decoration: underline;">5</span>       0.18     2.144  0.316  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  0.646<span style="text-decoration: underline;">7</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  2.787   0.646<span style="text-decoration: underline;">7</span>  0.309<span style="text-decoration: underline;">5</span>       0.18     2.256  0.259  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  0.414<span style="text-decoration: underline;">6</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  1.556   0.414<span style="text-decoration: underline;">6</span>  0.309<span style="text-decoration: underline;">5</span>       0.27     1.259  0.446  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  0.310<span style="text-decoration: underline;">4</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span> -<span style="color: #BB0000;">0.139</span><span style="color: #BB0000; text-decoration: underline;">5</span>  0.310<span style="text-decoration: underline;">4</span>  0.309<span style="text-decoration: underline;">5</span>       0.27    -<span style="color: #BB0000;">0.107</span><span style="color: #BB0000; text-decoration: underline;">4</span> 0.204  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span>  0.409<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  1.520   0.409<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span>       0.15     1.147  0.156  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span>  0.316<span style="text-decoration: underline;">0</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  0.386<span style="text-decoration: underline;">6</span>  0.316<span style="text-decoration: underline;">0</span>  0.309<span style="text-decoration: underline;">5</span>       0.15     0.326<span style="text-decoration: underline;">7</span> 0.052  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span>  0.441<span style="text-decoration: underline;">1</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  1.741   0.441<span style="text-decoration: underline;">1</span>  0.309<span style="text-decoration: underline;">5</span>       0.18     1.333  0.244  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span>  0.311<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  0.227<span style="text-decoration: underline;">4</span>  0.311<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span>       0.18     0.222<span style="text-decoration: underline;">2</span> 0.032<span style="text-decoration: underline;">00</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span>  0.493<span style="text-decoration: underline;">7</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span>  2.059   0.493<span style="text-decoration: underline;">7</span>  0.309<span style="text-decoration: underline;">5</span>       0.12     2.342  0.351  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span>  0.386<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span> 0.941<span style="text-decoration: underline;">2</span> -<span style="color: #BB0000;">1.334</span>   0.386<span style="text-decoration: underline;">8</span>  0.309<span style="text-decoration: underline;">5</span>       0.12    -<span style="color: #BB0000;">1.058</span>  0.042<span style="text-decoration: underline;">00</span></span></span>
<span><span class="co">#&gt;       diff_c       DD    d_DID   vd_DID sed_DID   Wd_DID    g_DID   vg_DID</span></span>
<span><span class="co">#&gt;        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  0.208     0.215    1.473   0.108<span style="text-decoration: underline;">3</span>   0.329<span style="text-decoration: underline;">1</span>  0.024<span style="text-decoration: underline;">90</span>   1.386   0.098<span style="text-decoration: underline;">79</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  0.208     0.191    1.208   0.064<span style="text-decoration: underline;">73</span>  0.254<span style="text-decoration: underline;">4</span>  0.008<span style="text-decoration: underline;">626</span>  1.137   0.058<span style="text-decoration: underline;">33</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  0.03      0.078    0.945<span style="text-decoration: underline;">9</span>  0.074<span style="text-decoration: underline;">50</span>  0.272<span style="text-decoration: underline;">9</span>  0.040<span style="text-decoration: underline;">09</span>   0.890<span style="text-decoration: underline;">2</span>  0.070<span style="text-decoration: underline;">57</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  0.03      0.076    0.929<span style="text-decoration: underline;">6</span>  0.098<span style="text-decoration: underline;">82</span>  0.314<span style="text-decoration: underline;">4</span>  0.065<span style="text-decoration: underline;">58</span>   0.874<span style="text-decoration: underline;">9</span>  0.095<span style="text-decoration: underline;">02</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  0.004<span style="text-decoration: underline;">000</span>  0.052    0.330<span style="text-decoration: underline;">2</span>  0.013<span style="text-decoration: underline;">17</span>  0.114<span style="text-decoration: underline;">8</span>  0.008<span style="text-decoration: underline;">975</span>  0.310<span style="text-decoration: underline;">8</span>  0.012<span style="text-decoration: underline;">69</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  0.004<span style="text-decoration: underline;">000</span>  0.07     0.466<span style="text-decoration: underline;">7</span>  0.016<span style="text-decoration: underline;">85</span>  0.129<span style="text-decoration: underline;">8</span>  0.008<span style="text-decoration: underline;">471</span>  0.439<span style="text-decoration: underline;">3</span>  0.015<span style="text-decoration: underline;">89</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> -<span style="color: #BB0000;">0.039</span><span style="color: #BB0000; text-decoration: underline;">0</span>    0.355    2.589   0.268<span style="text-decoration: underline;">5</span>   0.518<span style="text-decoration: underline;">2</span>  0.010<span style="text-decoration: underline;">71</span>   2.437   0.239<span style="text-decoration: underline;">1</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> -<span style="color: #BB0000;">0.039</span><span style="color: #BB0000; text-decoration: underline;">0</span>    0.298    2.173   0.204<span style="text-decoration: underline;">1</span>   0.451<span style="text-decoration: underline;">8</span>  0.022<span style="text-decoration: underline;">46</span>   2.046   0.183<span style="text-decoration: underline;">4</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  0.19      0.256    1.245   0.067<span style="text-decoration: underline;">72</span>  0.260<span style="text-decoration: underline;">2</span>  0.008<span style="text-decoration: underline;">132</span>  1.171   0.060<span style="text-decoration: underline;">92</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  0.19      0.014<span style="text-decoration: underline;">00</span>  0.071<span style="text-decoration: underline;">54</span> 0.007<span style="text-decoration: underline;">011</span> 0.083<span style="text-decoration: underline;">73</span> 0.006<span style="text-decoration: underline;">814</span>  0.067<span style="text-decoration: underline;">33</span> 0.006<span style="text-decoration: underline;">989</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span>  0.106     0.05     0.469<span style="text-decoration: underline;">4</span>  0.091<span style="text-decoration: underline;">04</span>  0.301<span style="text-decoration: underline;">7</span>  0.082<span style="text-decoration: underline;">57</span>   0.441<span style="text-decoration: underline;">8</span>  0.090<span style="text-decoration: underline;">07</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span>  0.106    -<span style="color: #BB0000;">0.054</span>   -<span style="color: #BB0000;">0.452</span><span style="color: #BB0000; text-decoration: underline;">7</span>  0.040<span style="text-decoration: underline;">40</span>  0.201<span style="text-decoration: underline;">0</span>  0.032<span style="text-decoration: underline;">52</span>  -<span style="color: #BB0000;">0.426</span><span style="color: #BB0000; text-decoration: underline;">0</span>  0.039<span style="text-decoration: underline;">50</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span>  0.015<span style="text-decoration: underline;">00</span>   0.229    1.765   0.132<span style="text-decoration: underline;">6</span>   0.364<span style="text-decoration: underline;">2</span>  0.012<span style="text-decoration: underline;">86</span>   1.661   0.119<span style="text-decoration: underline;">0</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span>  0.015<span style="text-decoration: underline;">00</span>   0.017<span style="text-decoration: underline;">00</span>  0.102<span style="text-decoration: underline;">7</span>  0.007<span style="text-decoration: underline;">729</span> 0.087<span style="text-decoration: underline;">91</span> 0.007<span style="text-decoration: underline;">323</span>  0.096<span style="text-decoration: underline;">63</span> 0.007<span style="text-decoration: underline;">682</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span>  0.057<span style="text-decoration: underline;">00</span>   0.294    2.289   0.239<span style="text-decoration: underline;">9</span>   0.489<span style="text-decoration: underline;">8</span>  0.038<span style="text-decoration: underline;">36</span>   2.155   0.216<span style="text-decoration: underline;">9</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span>  0.057<span style="text-decoration: underline;">00</span>  -<span style="color: #BB0000;">0.015</span><span style="color: #BB0000; text-decoration: underline;">00</span> -<span style="color: #BB0000;">0.167</span><span style="color: #BB0000; text-decoration: underline;">4</span>  0.034<span style="text-decoration: underline;">33</span>  0.185<span style="text-decoration: underline;">3</span>  0.033<span style="text-decoration: underline;">26</span>  -<span style="color: #BB0000;">0.157</span><span style="color: #BB0000; text-decoration: underline;">5</span>  0.034<span style="text-decoration: underline;">21</span> </span></span>
<span><span class="co">#&gt;      Wg_DID n_group   icc icc_type gamma_sqrt gamma_sqrt_test     h  omega</span></span>
<span><span class="co">#&gt;       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 0.024<span style="text-decoration: underline;">90</span>        5   0.1 Imputed       0.953          0.953<span style="text-decoration: underline;">5</span> 10.94 0.929<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 0.008<span style="text-decoration: underline;">626</span>       5   0.1 Imputed       0.953          0.953<span style="text-decoration: underline;">5</span> 10.94 0.929<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 0.040<span style="text-decoration: underline;">09</span>        5   0.1 Imputed       0.953          0.953<span style="text-decoration: underline;">5</span> 10.94 0.929<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 0.065<span style="text-decoration: underline;">58</span>        5   0.1 Imputed       0.953          0.953<span style="text-decoration: underline;">5</span> 10.94 0.929<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 0.008<span style="text-decoration: underline;">975</span>       5   0.1 Imputed       0.953          0.953<span style="text-decoration: underline;">5</span> 10.94 0.929<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 0.008<span style="text-decoration: underline;">471</span>       5   0.1 Imputed       0.953          0.953<span style="text-decoration: underline;">5</span> 10.94 0.929<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 0.010<span style="text-decoration: underline;">71</span>        5   0.1 Imputed       0.953          0.953<span style="text-decoration: underline;">5</span> 10.94 0.929<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 0.022<span style="text-decoration: underline;">46</span>        5   0.1 Imputed       0.953          0.953<span style="text-decoration: underline;">5</span> 10.94 0.929<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 0.008<span style="text-decoration: underline;">132</span>       5   0.1 Imputed       0.953          0.953<span style="text-decoration: underline;">5</span> 10.94 0.929<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 0.006<span style="text-decoration: underline;">814</span>       5   0.1 Imputed       0.953          0.953<span style="text-decoration: underline;">5</span> 10.94 0.929<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> 0.082<span style="text-decoration: underline;">57</span>        5   0.1 Imputed       0.953          0.953<span style="text-decoration: underline;">5</span> 10.94 0.929<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> 0.032<span style="text-decoration: underline;">52</span>        5   0.1 Imputed       0.953          0.953<span style="text-decoration: underline;">5</span> 10.94 0.929<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> 0.012<span style="text-decoration: underline;">86</span>        5   0.1 Imputed       0.953          0.953<span style="text-decoration: underline;">5</span> 10.94 0.929<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> 0.007<span style="text-decoration: underline;">323</span>       5   0.1 Imputed       0.953          0.953<span style="text-decoration: underline;">5</span> 10.94 0.929<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> 0.038<span style="text-decoration: underline;">36</span>        5   0.1 Imputed       0.953          0.953<span style="text-decoration: underline;">5</span> 10.94 0.929<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> 0.033<span style="text-decoration: underline;">26</span>        5   0.1 Imputed       0.953          0.953<span style="text-decoration: underline;">5</span> 10.94 0.929<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt;    gt_post vgt_post Wgt_post   gt_DID  vgt_DID  Wgt_DID  hg_DID vhg_DID h_DID</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  0.746<span style="text-decoration: underline;">6</span>   0.387<span style="text-decoration: underline;">3</span>   0.361<span style="text-decoration: underline;">8</span>  1.305   0.106<span style="text-decoration: underline;">9</span>   0.029<span style="text-decoration: underline;">11</span>   1.792  0.091<span style="text-decoration: underline;">41</span> 10.94</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  0.397<span style="text-decoration: underline;">9</span>   0.369<span style="text-decoration: underline;">1</span>   0.361<span style="text-decoration: underline;">8</span>  1.070   0.062<span style="text-decoration: underline;">44</span>  0.010<span style="text-decoration: underline;">08</span>   2.209  0.091<span style="text-decoration: underline;">41</span> 10.94</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  0.848<span style="text-decoration: underline;">9</span>   0.394<span style="text-decoration: underline;">8</span>   0.361<span style="text-decoration: underline;">8</span>  0.838<span style="text-decoration: underline;">2</span>  0.078<span style="text-decoration: underline;">97</span>  0.046<span style="text-decoration: underline;">86</span>   1.067  0.091<span style="text-decoration: underline;">41</span> 10.94</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  0.932<span style="text-decoration: underline;">1</span>   0.401<span style="text-decoration: underline;">5</span>   0.361<span style="text-decoration: underline;">8</span>  0.823<span style="text-decoration: underline;">7</span>  0.107<span style="text-decoration: underline;">7</span>   0.076<span style="text-decoration: underline;">67</span>   0.847<span style="text-decoration: underline;">7</span> 0.091<span style="text-decoration: underline;">41</span> 10.94</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  0.894<span style="text-decoration: underline;">7</span>   0.398<span style="text-decoration: underline;">4</span>   0.361<span style="text-decoration: underline;">8</span>  0.292<span style="text-decoration: underline;">6</span>  0.014<span style="text-decoration: underline;">40</span>  0.010<span style="text-decoration: underline;">49</span>   0.817<span style="text-decoration: underline;">4</span> 0.091<span style="text-decoration: underline;">41</span> 10.94</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  1.666    0.488<span style="text-decoration: underline;">7</span>   0.361<span style="text-decoration: underline;">8</span>  0.413<span style="text-decoration: underline;">6</span>  0.017<span style="text-decoration: underline;">72</span>  0.009<span style="text-decoration: underline;">902</span>  1.132  0.091<span style="text-decoration: underline;">41</span> 10.94</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  2.495    0.646<span style="text-decoration: underline;">3</span>   0.361<span style="text-decoration: underline;">8</span>  2.294   0.253<span style="text-decoration: underline;">1</span>   0.012<span style="text-decoration: underline;">52</span>   3.088  0.091<span style="text-decoration: underline;">41</span> 10.94</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  2.624    0.676<span style="text-decoration: underline;">5</span>   0.361<span style="text-decoration: underline;">8</span>  1.926   0.195<span style="text-decoration: underline;">8</span>   0.026<span style="text-decoration: underline;">26</span>   2.351  0.091<span style="text-decoration: underline;">41</span> 10.94</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  1.465    0.459<span style="text-decoration: underline;">9</span>   0.361<span style="text-decoration: underline;">8</span>  1.103   0.065<span style="text-decoration: underline;">11</span>  0.009<span style="text-decoration: underline;">506</span>  2.286  0.091<span style="text-decoration: underline;">41</span> 10.94</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> -<span style="color: #BB0000;">0.131</span><span style="color: #BB0000; text-decoration: underline;">3</span>   0.362<span style="text-decoration: underline;">6</span>   0.361<span style="text-decoration: underline;">8</span>  0.063<span style="text-decoration: underline;">39</span> 0.008<span style="text-decoration: underline;">150</span> 0.007<span style="text-decoration: underline;">966</span>  0.213<span style="text-decoration: underline;">9</span> 0.091<span style="text-decoration: underline;">41</span> 10.94</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span>  1.431    0.455<span style="text-decoration: underline;">4</span>   0.361<span style="text-decoration: underline;">8</span>  0.416<span style="text-decoration: underline;">0</span>  0.104<span style="text-decoration: underline;">4</span>   0.096<span style="text-decoration: underline;">52</span>   0.399<span style="text-decoration: underline;">5</span> 0.091<span style="text-decoration: underline;">41</span> 10.94</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span>  0.364<span style="text-decoration: underline;">0</span>   0.367<span style="text-decoration: underline;">9</span>   0.361<span style="text-decoration: underline;">8</span> -<span style="color: #BB0000;">0.401</span><span style="color: #BB0000; text-decoration: underline;">1</span>  0.045<span style="text-decoration: underline;">37</span>  0.038<span style="text-decoration: underline;">01</span>  -<span style="color: #BB0000;">0.603</span><span style="color: #BB0000; text-decoration: underline;">5</span> 0.091<span style="text-decoration: underline;">41</span> 10.94</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span>  1.639    0.484<span style="text-decoration: underline;">6</span>   0.361<span style="text-decoration: underline;">8</span>  1.564   0.126<span style="text-decoration: underline;">8</span>   0.015<span style="text-decoration: underline;">03</span>   2.444  0.091<span style="text-decoration: underline;">41</span> 10.94</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span>  0.214<span style="text-decoration: underline;">1</span>   0.363<span style="text-decoration: underline;">9</span>   0.361<span style="text-decoration: underline;">8</span>  0.090<span style="text-decoration: underline;">98</span> 0.008<span style="text-decoration: underline;">939</span> 0.008<span style="text-decoration: underline;">561</span>  0.295<span style="text-decoration: underline;">1</span> 0.091<span style="text-decoration: underline;">41</span> 10.94</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span>  1.939    0.533<span style="text-decoration: underline;">7</span>   0.361<span style="text-decoration: underline;">8</span>  2.029   0.232<span style="text-decoration: underline;">9</span>   0.044<span style="text-decoration: underline;">85</span>   2.072  0.091<span style="text-decoration: underline;">41</span> 10.94</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> -<span style="color: #BB0000;">1.256</span>    0.433<span style="text-decoration: underline;">9</span>   0.361<span style="text-decoration: underline;">8</span> -<span style="color: #BB0000;">0.148</span><span style="color: #BB0000; text-decoration: underline;">3</span>  0.039<span style="text-decoration: underline;">88</span>  0.038<span style="text-decoration: underline;">88</span>  -<span style="color: #BB0000;">0.226</span><span style="color: #BB0000; text-decoration: underline;">5</span> 0.091<span style="text-decoration: underline;">41</span> 10.94</span></span>
<span><span class="co">#&gt;    df_DID n_covariates_DID adj_fct_DID adj_value_DID gamma_sqrt_005 h_005</span></span>
<span><span class="co">#&gt;     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  10.94                1 eta                 1.169          0.977 10.99</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  10.94                1 eta                 1.169          0.977 10.99</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  10.94                1 eta                 1.169          0.977 10.99</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  10.94                1 eta                 1.169          0.977 10.99</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  10.94                1 eta                 1.169          0.977 10.99</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  10.94                1 eta                 1.169          0.977 10.99</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  10.94                1 eta                 1.169          0.977 10.99</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  10.94                1 eta                 1.169          0.977 10.99</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  10.94                1 eta                 1.169          0.977 10.99</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  10.94                1 eta                 1.169          0.977 10.99</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span>  10.94                1 eta                 1.169          0.977 10.99</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span>  10.94                1 eta                 1.169          0.977 10.99</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span>  10.94                1 eta                 1.169          0.977 10.99</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span>  10.94                1 eta                 1.169          0.977 10.99</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span>  10.94                1 eta                 1.169          0.977 10.99</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span>  10.94                1 eta                 1.169          0.977 10.99</span></span>
<span><span class="co">#&gt;    omega_005 gt_DID_005 vgt_DID_005 Wgt_DID_005 gamma_sqrt_02  h_02 omega_02</span></span>
<span><span class="co">#&gt;        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>    0.930<span style="text-decoration: underline;">2</span>    1.338      0.108<span style="text-decoration: underline;">5</span>      0.027<span style="text-decoration: underline;">02</span>          0.905 10.71   0.928<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>    0.930<span style="text-decoration: underline;">2</span>    1.098      0.064<span style="text-decoration: underline;">17</span>     0.009<span style="text-decoration: underline;">359</span>         0.905 10.71   0.928<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>    0.930<span style="text-decoration: underline;">2</span>    0.859<span style="text-decoration: underline;">6</span>     0.077<span style="text-decoration: underline;">11</span>     0.043<span style="text-decoration: underline;">50</span>          0.905 10.71   0.928<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>    0.930<span style="text-decoration: underline;">2</span>    0.844<span style="text-decoration: underline;">8</span>     0.103<span style="text-decoration: underline;">6</span>      0.071<span style="text-decoration: underline;">16</span>          0.905 10.71   0.928<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>    0.930<span style="text-decoration: underline;">2</span>    0.300<span style="text-decoration: underline;">1</span>     0.013<span style="text-decoration: underline;">83</span>     0.009<span style="text-decoration: underline;">737</span>         0.905 10.71   0.928<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>    0.930<span style="text-decoration: underline;">2</span>    0.424<span style="text-decoration: underline;">2</span>     0.017<span style="text-decoration: underline;">38</span>     0.009<span style="text-decoration: underline;">191</span>         0.905 10.71   0.928<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>    0.930<span style="text-decoration: underline;">2</span>    2.353      0.263<span style="text-decoration: underline;">5</span>      0.011<span style="text-decoration: underline;">62</span>          0.905 10.71   0.928<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>    0.930<span style="text-decoration: underline;">2</span>    1.975      0.201<span style="text-decoration: underline;">9</span>      0.024<span style="text-decoration: underline;">37</span>          0.905 10.71   0.928<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>    0.930<span style="text-decoration: underline;">2</span>    1.131      0.067<span style="text-decoration: underline;">04</span>     0.008<span style="text-decoration: underline;">823</span>         0.905 10.71   0.928<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    0.930<span style="text-decoration: underline;">2</span>    0.065<span style="text-decoration: underline;">01</span>    0.007<span style="text-decoration: underline;">586</span>    0.007<span style="text-decoration: underline;">394</span>         0.905 10.71   0.928<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span>    0.930<span style="text-decoration: underline;">2</span>    0.426<span style="text-decoration: underline;">6</span>     0.097<span style="text-decoration: underline;">86</span>     0.089<span style="text-decoration: underline;">59</span>          0.905 10.71   0.928<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span>    0.930<span style="text-decoration: underline;">2</span>   -<span style="color: #BB0000;">0.411</span><span style="color: #BB0000; text-decoration: underline;">4</span>     0.042<span style="text-decoration: underline;">98</span>     0.035<span style="text-decoration: underline;">28</span>          0.905 10.71   0.928<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span>    0.930<span style="text-decoration: underline;">2</span>    1.604      0.131<span style="text-decoration: underline;">0</span>      0.013<span style="text-decoration: underline;">95</span>          0.905 10.71   0.928<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span>    0.930<span style="text-decoration: underline;">2</span>    0.093<span style="text-decoration: underline;">31</span>    0.008<span style="text-decoration: underline;">342</span>    0.007<span style="text-decoration: underline;">946</span>         0.905 10.71   0.928<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span>    0.930<span style="text-decoration: underline;">2</span>    2.080      0.238<span style="text-decoration: underline;">5</span>      0.041<span style="text-decoration: underline;">62</span>          0.905 10.71   0.928<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span>    0.930<span style="text-decoration: underline;">2</span>   -<span style="color: #BB0000;">0.152</span><span style="color: #BB0000; text-decoration: underline;">1</span>     0.037<span style="text-decoration: underline;">14</span>     0.036<span style="text-decoration: underline;">08</span>          0.905 10.71   0.928<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt;    gt_DID_02 vgt_DID_02 Wgt_DID_02 vary_id                         </span></span>
<span><span class="co">#&gt;        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>   1.237     0.104<span style="text-decoration: underline;">8</span>     0.033<span style="text-decoration: underline;">32</span>  Inpatient/Alcohol use/Cognitive </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>   1.015     0.059<span style="text-decoration: underline;">61</span>    0.011<span style="text-decoration: underline;">54</span>  Inpatient/Alcohol use/Disease   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>   0.794<span style="text-decoration: underline;">7</span>    0.083<span style="text-decoration: underline;">12</span>    0.053<span style="text-decoration: underline;">64</span>  Inpatient/Drug use/Cognitive    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>   0.780<span style="text-decoration: underline;">9</span>    0.116<span style="text-decoration: underline;">2</span>     0.087<span style="text-decoration: underline;">75</span>  Inpatient/Drug use/Disease      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>   0.277<span style="text-decoration: underline;">4</span>    0.015<span style="text-decoration: underline;">60</span>    0.012<span style="text-decoration: underline;">01</span>  Inpatient/Psych func/Cognitive  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>   0.392<span style="text-decoration: underline;">1</span>    0.018<span style="text-decoration: underline;">51</span>    0.011<span style="text-decoration: underline;">33</span>  Inpatient/Psych func/Disease    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>   2.175     0.235<span style="text-decoration: underline;">2</span>     0.014<span style="text-decoration: underline;">33</span>  Inpatient/Social/Cognitive      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>   1.826     0.185<span style="text-decoration: underline;">7</span>     0.030<span style="text-decoration: underline;">05</span>  Inpatient/Social/Disease        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>   1.046     0.061<span style="text-decoration: underline;">93</span>    0.010<span style="text-decoration: underline;">88</span>  Outpatient/Alcohol use/Cognitive</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>   0.060<span style="text-decoration: underline;">10</span>   0.009<span style="text-decoration: underline;">286</span>   0.009<span style="text-decoration: underline;">118</span> Outpatient/Alcohol use/Disease  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span>   0.394<span style="text-decoration: underline;">3</span>    0.117<span style="text-decoration: underline;">7</span>     0.110<span style="text-decoration: underline;">5</span>   Outpatient/Drug use/Cognitive   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span>  -<span style="color: #BB0000;">0.380</span><span style="color: #BB0000; text-decoration: underline;">3</span>    0.050<span style="text-decoration: underline;">26</span>    0.043<span style="text-decoration: underline;">51</span>  Outpatient/Drug use/Disease     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span>   1.483     0.119<span style="text-decoration: underline;">8</span>     0.017<span style="text-decoration: underline;">20</span>  Outpatient/Psych func/Cognitive </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span>   0.086<span style="text-decoration: underline;">26</span>   0.010<span style="text-decoration: underline;">15</span>    0.009<span style="text-decoration: underline;">798</span> Outpatient/Psych func/Disease   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span>   1.923     0.224<span style="text-decoration: underline;">0</span>     0.051<span style="text-decoration: underline;">33</span>  Outpatient/Social/Cognitive     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span>  -<span style="color: #BB0000;">0.140</span><span style="color: #BB0000; text-decoration: underline;">6</span>    0.045<span style="text-decoration: underline;">42</span>    0.044<span style="text-decoration: underline;">50</span>  Outpatient/Social/Disease</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="konstruktion-af-varians-covarians-matrix-når-man-har-mere-end-en-treatment-ogeller-kontrol-gruppe">Konstruktion af varians-covarians matrix når man har mere end en
treatment (og/eller kontrol) gruppe<a class="anchor" aria-label="anchor" href="#konstruktion-af-varians-covarians-matrix-n%C3%A5r-man-har-mere-end-en-treatment-ogeller-kontrol-gruppe"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">V_dat_test</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">Fisher1996_es</span> <span class="op">|&gt;</span> </span>
<span>  <span class="co">#dplyr::filter(setting == "Inpatient") |&gt; </span></span>
<span>  <span class="fu">metafor</span><span class="fu">::</span><span class="fu"><a href="https://wviechtb.github.io/metafor/reference/escalc.html" class="external-link">escalc</a></span><span class="op">(</span>measure<span class="op">=</span><span class="st">"SMD"</span>, yi <span class="op">=</span> <span class="va">g_DID</span>, vi <span class="op">=</span> <span class="va">vg_DID</span>, data <span class="op">=</span> <span class="va">_</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>esid <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">V_vcalc</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">metafor</span><span class="fu">::</span><span class="fu"><a href="https://wviechtb.github.io/metafor/reference/vcalc.html" class="external-link">vcalc</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">V_dat_test</span>,</span>
<span>    vi <span class="op">=</span> <span class="va">vi</span>, </span>
<span>    cluster <span class="op">=</span> <span class="va">study</span>,</span>
<span>    subgroup <span class="op">=</span> <span class="va">setting</span>,</span>
<span>    obs <span class="op">=</span> <span class="va">outcome</span>, </span>
<span>    grp1 <span class="op">=</span> <span class="va">group_t</span>,</span>
<span>    w1 <span class="op">=</span> <span class="va">N_t</span>, </span>
<span>    grp2 <span class="op">=</span> <span class="va">group_c</span>,</span>
<span>    w2 <span class="op">=</span> <span class="va">N_c</span>,</span>
<span>    rho <span class="op">=</span> <span class="fl">0.7</span>, </span>
<span>    sparse <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">V_vcalc</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;            V1          V2         V3         V4          V5          V6</span></span>
<span><span class="co">#&gt; 1  0.09878727 0.035034135 0.05844718 0.03130179 0.024783717 0.012801364</span></span>
<span><span class="co">#&gt; 2  0.03503413 0.058326513 0.02072784 0.05211272 0.008789352 0.021312326</span></span>
<span><span class="co">#&gt; 3  0.05844718 0.020727838 0.07057162 0.03779511 0.020947442 0.010819839</span></span>
<span><span class="co">#&gt; 4  0.03130179 0.052112719 0.03779511 0.09502226 0.011218545 0.027202607</span></span>
<span><span class="co">#&gt; 5  0.02478372 0.008789352 0.02094744 0.01121854 0.012689246 0.006554289</span></span>
<span><span class="co">#&gt; 6  0.01280136 0.021312326 0.01081984 0.02720261 0.006554289 0.015892771</span></span>
<span><span class="co">#&gt; 7  0.10758047 0.038152575 0.09092808 0.04869715 0.038556789 0.019915475</span></span>
<span><span class="co">#&gt; 8  0.04348578 0.072397216 0.03675461 0.09240629 0.015585282 0.037791025</span></span>
<span><span class="co">#&gt; 9  0.00000000 0.000000000 0.00000000 0.00000000 0.000000000 0.000000000</span></span>
<span><span class="co">#&gt; 10 0.00000000 0.000000000 0.00000000 0.00000000 0.000000000 0.000000000</span></span>
<span><span class="co">#&gt; 11 0.00000000 0.000000000 0.00000000 0.00000000 0.000000000 0.000000000</span></span>
<span><span class="co">#&gt; 12 0.00000000 0.000000000 0.00000000 0.00000000 0.000000000 0.000000000</span></span>
<span><span class="co">#&gt; 13 0.00000000 0.000000000 0.00000000 0.00000000 0.000000000 0.000000000</span></span>
<span><span class="co">#&gt; 14 0.00000000 0.000000000 0.00000000 0.00000000 0.000000000 0.000000000</span></span>
<span><span class="co">#&gt; 15 0.00000000 0.000000000 0.00000000 0.00000000 0.000000000 0.000000000</span></span>
<span><span class="co">#&gt; 16 0.00000000 0.000000000 0.00000000 0.00000000 0.000000000 0.000000000</span></span>
<span><span class="co">#&gt;            V7         V8          V9         V10         V11        V12</span></span>
<span><span class="co">#&gt; 1  0.10758047 0.04348578 0.000000000 0.000000000 0.000000000 0.00000000</span></span>
<span><span class="co">#&gt; 2  0.03815258 0.07239722 0.000000000 0.000000000 0.000000000 0.00000000</span></span>
<span><span class="co">#&gt; 3  0.09092808 0.03675461 0.000000000 0.000000000 0.000000000 0.00000000</span></span>
<span><span class="co">#&gt; 4  0.04869715 0.09240629 0.000000000 0.000000000 0.000000000 0.00000000</span></span>
<span><span class="co">#&gt; 5  0.03855679 0.01558528 0.000000000 0.000000000 0.000000000 0.00000000</span></span>
<span><span class="co">#&gt; 6  0.01991547 0.03779103 0.000000000 0.000000000 0.000000000 0.00000000</span></span>
<span><span class="co">#&gt; 7  0.23909463 0.09664594 0.000000000 0.000000000 0.000000000 0.00000000</span></span>
<span><span class="co">#&gt; 8  0.09664594 0.18339253 0.000000000 0.000000000 0.000000000 0.00000000</span></span>
<span><span class="co">#&gt; 9  0.00000000 0.00000000 0.060916367 0.009523074 0.051851916 0.01584747</span></span>
<span><span class="co">#&gt; 10 0.00000000 0.00000000 0.009523074 0.006988831 0.008106026 0.01163020</span></span>
<span><span class="co">#&gt; 11 0.00000000 0.00000000 0.051851916 0.008106026 0.090074018 0.02752927</span></span>
<span><span class="co">#&gt; 12 0.00000000 0.00000000 0.015847470 0.011630203 0.027529268 0.03949790</span></span>
<span><span class="co">#&gt; 13 0.00000000 0.00000000 0.059589219 0.009315601 0.072460356 0.02214601</span></span>
<span><span class="co">#&gt; 14 0.00000000 0.00000000 0.006989072 0.005129168 0.008498696 0.01219359</span></span>
<span><span class="co">#&gt; 15 0.00000000 0.00000000 0.080466733 0.012579389 0.097847366 0.02990503</span></span>
<span><span class="co">#&gt; 16 0.00000000 0.00000000 0.014748754 0.010823874 0.017934451 0.02573164</span></span>
<span><span class="co">#&gt;            V13         V14        V15        V16</span></span>
<span><span class="co">#&gt; 1  0.000000000 0.000000000 0.00000000 0.00000000</span></span>
<span><span class="co">#&gt; 2  0.000000000 0.000000000 0.00000000 0.00000000</span></span>
<span><span class="co">#&gt; 3  0.000000000 0.000000000 0.00000000 0.00000000</span></span>
<span><span class="co">#&gt; 4  0.000000000 0.000000000 0.00000000 0.00000000</span></span>
<span><span class="co">#&gt; 5  0.000000000 0.000000000 0.00000000 0.00000000</span></span>
<span><span class="co">#&gt; 6  0.000000000 0.000000000 0.00000000 0.00000000</span></span>
<span><span class="co">#&gt; 7  0.000000000 0.000000000 0.00000000 0.00000000</span></span>
<span><span class="co">#&gt; 8  0.000000000 0.000000000 0.00000000 0.00000000</span></span>
<span><span class="co">#&gt; 9  0.059589219 0.006989072 0.08046673 0.01474875</span></span>
<span><span class="co">#&gt; 10 0.009315601 0.005129168 0.01257939 0.01082387</span></span>
<span><span class="co">#&gt; 11 0.072460356 0.008498696 0.09784737 0.01793445</span></span>
<span><span class="co">#&gt; 12 0.022146015 0.012193591 0.02990503 0.02573164</span></span>
<span><span class="co">#&gt; 13 0.118961192 0.013952664 0.11244808 0.02061062</span></span>
<span><span class="co">#&gt; 14 0.013952664 0.007682334 0.01318876 0.01134820</span></span>
<span><span class="co">#&gt; 15 0.112448075 0.013188757 0.21692153 0.03975956</span></span>
<span><span class="co">#&gt; 16 0.020610617 0.011348201 0.03975956 0.03421092</span></span>
<span><span class="va">V_vcalc</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cov2cor</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; 16 x 16 sparse Matrix of class "dsCMatrix"</span></span>
<span><span class="co">#&gt;                                                                            </span></span>
<span><span class="co">#&gt;  [1,] 1.0000000 0.4615385 0.7000000 0.3230769 0.7000000 0.3230769 0.7000000</span></span>
<span><span class="co">#&gt;  [2,] 0.4615385 1.0000000 0.3230769 0.7000000 0.3230769 0.7000000 0.3230769</span></span>
<span><span class="co">#&gt;  [3,] 0.7000000 0.3230769 1.0000000 0.4615385 0.7000000 0.3230769 0.7000000</span></span>
<span><span class="co">#&gt;  [4,] 0.3230769 0.7000000 0.4615385 1.0000000 0.3230769 0.7000000 0.3230769</span></span>
<span><span class="co">#&gt;  [5,] 0.7000000 0.3230769 0.7000000 0.3230769 1.0000000 0.4615385 0.7000000</span></span>
<span><span class="co">#&gt;  [6,] 0.3230769 0.7000000 0.3230769 0.7000000 0.4615385 1.0000000 0.3230769</span></span>
<span><span class="co">#&gt;  [7,] 0.7000000 0.3230769 0.7000000 0.3230769 0.7000000 0.3230769 1.0000000</span></span>
<span><span class="co">#&gt;  [8,] 0.3230769 0.7000000 0.3230769 0.7000000 0.3230769 0.7000000 0.4615385</span></span>
<span><span class="co">#&gt;  [9,] .         .         .         .         .         .         .        </span></span>
<span><span class="co">#&gt; [10,] .         .         .         .         .         .         .        </span></span>
<span><span class="co">#&gt; [11,] .         .         .         .         .         .         .        </span></span>
<span><span class="co">#&gt; [12,] .         .         .         .         .         .         .        </span></span>
<span><span class="co">#&gt; [13,] .         .         .         .         .         .         .        </span></span>
<span><span class="co">#&gt; [14,] .         .         .         .         .         .         .        </span></span>
<span><span class="co">#&gt; [15,] .         .         .         .         .         .         .        </span></span>
<span><span class="co">#&gt; [16,] .         .         .         .         .         .         .        </span></span>
<span><span class="co">#&gt;                                                                            </span></span>
<span><span class="co">#&gt;  [1,] 0.3230769 .         .         .         .         .         .        </span></span>
<span><span class="co">#&gt;  [2,] 0.7000000 .         .         .         .         .         .        </span></span>
<span><span class="co">#&gt;  [3,] 0.3230769 .         .         .         .         .         .        </span></span>
<span><span class="co">#&gt;  [4,] 0.7000000 .         .         .         .         .         .        </span></span>
<span><span class="co">#&gt;  [5,] 0.3230769 .         .         .         .         .         .        </span></span>
<span><span class="co">#&gt;  [6,] 0.7000000 .         .         .         .         .         .        </span></span>
<span><span class="co">#&gt;  [7,] 0.4615385 .         .         .         .         .         .        </span></span>
<span><span class="co">#&gt;  [8,] 1.0000000 .         .         .         .         .         .        </span></span>
<span><span class="co">#&gt;  [9,] .         1.0000000 0.4615385 0.7000000 0.3230769 0.7000000 0.3230769</span></span>
<span><span class="co">#&gt; [10,] .         0.4615385 1.0000000 0.3230769 0.7000000 0.3230769 0.7000000</span></span>
<span><span class="co">#&gt; [11,] .         0.7000000 0.3230769 1.0000000 0.4615385 0.7000000 0.3230769</span></span>
<span><span class="co">#&gt; [12,] .         0.3230769 0.7000000 0.4615385 1.0000000 0.3230769 0.7000000</span></span>
<span><span class="co">#&gt; [13,] .         0.7000000 0.3230769 0.7000000 0.3230769 1.0000000 0.4615385</span></span>
<span><span class="co">#&gt; [14,] .         0.3230769 0.7000000 0.3230769 0.7000000 0.4615385 1.0000000</span></span>
<span><span class="co">#&gt; [15,] .         0.7000000 0.3230769 0.7000000 0.3230769 0.7000000 0.3230769</span></span>
<span><span class="co">#&gt; [16,] .         0.3230769 0.7000000 0.3230769 0.7000000 0.3230769 0.7000000</span></span>
<span><span class="co">#&gt;                          </span></span>
<span><span class="co">#&gt;  [1,] .         .        </span></span>
<span><span class="co">#&gt;  [2,] .         .        </span></span>
<span><span class="co">#&gt;  [3,] .         .        </span></span>
<span><span class="co">#&gt;  [4,] .         .        </span></span>
<span><span class="co">#&gt;  [5,] .         .        </span></span>
<span><span class="co">#&gt;  [6,] .         .        </span></span>
<span><span class="co">#&gt;  [7,] .         .        </span></span>
<span><span class="co">#&gt;  [8,] .         .        </span></span>
<span><span class="co">#&gt;  [9,] 0.7000000 0.3230769</span></span>
<span><span class="co">#&gt; [10,] 0.3230769 0.7000000</span></span>
<span><span class="co">#&gt; [11,] 0.7000000 0.3230769</span></span>
<span><span class="co">#&gt; [12,] 0.3230769 0.7000000</span></span>
<span><span class="co">#&gt; [13,] 0.7000000 0.3230769</span></span>
<span><span class="co">#&gt; [14,] 0.3230769 0.7000000</span></span>
<span><span class="co">#&gt; [15,] 1.0000000 0.4615385</span></span>
<span><span class="co">#&gt; [16,] 0.4615385 1.0000000</span></span>
<span>  </span>
<span><span class="co"># Assuming constant correlation</span></span>
<span></span>
<span><span class="va">V_vcalc_constant</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">metafor</span><span class="fu">::</span><span class="fu"><a href="https://wviechtb.github.io/metafor/reference/vcalc.html" class="external-link">vcalc</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">V_dat_test</span>,</span>
<span>    vi <span class="op">=</span> <span class="va">vi</span>, </span>
<span>    cluster <span class="op">=</span> <span class="va">study</span>,</span>
<span>    obs <span class="op">=</span> <span class="va">esid</span>, </span>
<span>    rho <span class="op">=</span> <span class="fl">0.7</span>, </span>
<span>    sparse <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">V_vcalc_constant</span></span>
<span><span class="co">#&gt; 16 x 16 sparse Matrix of class "dgCMatrix"</span></span>
<span><span class="co">#&gt;                                                                          </span></span>
<span><span class="co">#&gt;  [1,] 0.09878727 0.05313510 0.05844718 0.06782054 0.024783717 0.027736288</span></span>
<span><span class="co">#&gt;  [2,] 0.05313510 0.05832651 0.04491031 0.05211272 0.019043596 0.021312326</span></span>
<span><span class="co">#&gt;  [3,] 0.05844718 0.04491031 0.07057162 0.05732259 0.020947442 0.023442985</span></span>
<span><span class="co">#&gt;  [4,] 0.06782054 0.05211272 0.05732259 0.09502226 0.024306847 0.027202607</span></span>
<span><span class="co">#&gt;  [5,] 0.02478372 0.01904360 0.02094744 0.02430685 0.012689246 0.009940672</span></span>
<span><span class="co">#&gt;  [6,] 0.02773629 0.02131233 0.02344298 0.02720261 0.009940672 0.015892771</span></span>
<span><span class="co">#&gt;  [7,] 0.10758047 0.08266391 0.09092808 0.10551049 0.038556789 0.043150195</span></span>
<span><span class="co">#&gt;  [8,] 0.09421919 0.07239722 0.07963499 0.09240629 0.033768111 0.037791025</span></span>
<span><span class="co">#&gt;  [9,] 0.05430196 0.04172516 0.04589656 0.05325713 0.019461797 0.021780350</span></span>
<span><span class="co">#&gt; [10,] 0.01839293 0.01413297 0.01554588 0.01803902 0.006592016 0.007377346</span></span>
<span><span class="co">#&gt; [11,] 0.06603106 0.05073770 0.05581011 0.06476054 0.023665502 0.026484856</span></span>
<span><span class="co">#&gt; [12,] 0.04372557 0.03359836 0.03695729 0.04288424 0.015671225 0.017538193</span></span>
<span><span class="co">#&gt; [13,] 0.07588417 0.05830875 0.06413805 0.07442406 0.027196850 0.030436906</span></span>
<span><span class="co">#&gt; [14,] 0.01928391 0.01481759 0.01629895 0.01891286 0.006911344 0.007734717</span></span>
<span><span class="co">#&gt; [15,] 0.10247074 0.07873764 0.08660928 0.10049907 0.036725463 0.041100697</span></span>
<span><span class="co">#&gt; [16,] 0.04069405 0.03126896 0.03439501 0.03991105 0.014584728 0.016322258</span></span>
<span><span class="co">#&gt;                                                                         </span></span>
<span><span class="co">#&gt;  [1,] 0.10758047 0.09421919 0.05430196 0.018392926 0.06603106 0.04372557</span></span>
<span><span class="co">#&gt;  [2,] 0.08266391 0.07239722 0.04172516 0.014132966 0.05073770 0.03359836</span></span>
<span><span class="co">#&gt;  [3,] 0.09092808 0.07963499 0.04589656 0.015545882 0.05581011 0.03695729</span></span>
<span><span class="co">#&gt;  [4,] 0.10551049 0.09240629 0.05325713 0.018039023 0.06476054 0.04288424</span></span>
<span><span class="co">#&gt;  [5,] 0.03855679 0.03376811 0.01946180 0.006592016 0.02366550 0.01567122</span></span>
<span><span class="co">#&gt;  [6,] 0.04315019 0.03779103 0.02178035 0.007377346 0.02648486 0.01753819</span></span>
<span><span class="co">#&gt;  [7,] 0.23909463 0.14657968 0.08447923 0.028614439 0.10272655 0.06802522</span></span>
<span><span class="co">#&gt;  [8,] 0.14657968 0.18339253 0.07398708 0.025060581 0.08996812 0.05957662</span></span>
<span><span class="co">#&gt;  [9,] 0.08447923 0.07398708 0.06091637 0.014443329 0.05185192 0.03433618</span></span>
<span><span class="co">#&gt; [10,] 0.02861444 0.02506058 0.01444333 0.006988831 0.01756306 0.01163020</span></span>
<span><span class="co">#&gt; [11,] 0.10272655 0.08996812 0.05185192 0.017563056 0.09007402 0.04175272</span></span>
<span><span class="co">#&gt; [12,] 0.06802522 0.05957662 0.03433618 0.011630203 0.04175272 0.03949790</span></span>
<span><span class="co">#&gt; [13,] 0.11805533 0.10339309 0.05958922 0.020183802 0.07246036 0.04798303</span></span>
<span><span class="co">#&gt; [14,] 0.03000057 0.02627456 0.01514299 0.005129168 0.01841384 0.01219359</span></span>
<span><span class="co">#&gt; [15,] 0.15941687 0.13961761 0.08046673 0.027255343 0.09784737 0.06479423</span></span>
<span><span class="co">#&gt; [16,] 0.06330898 0.05544613 0.03195563 0.010823874 0.03885798 0.02573164</span></span>
<span><span class="co">#&gt;                                                   </span></span>
<span><span class="co">#&gt;  [1,] 0.07588417 0.019283911 0.10247074 0.04069405</span></span>
<span><span class="co">#&gt;  [2,] 0.05830875 0.014817592 0.07873764 0.03126896</span></span>
<span><span class="co">#&gt;  [3,] 0.06413805 0.016298952 0.08660928 0.03439501</span></span>
<span><span class="co">#&gt;  [4,] 0.07442406 0.018912865 0.10049907 0.03991105</span></span>
<span><span class="co">#&gt;  [5,] 0.02719685 0.006911344 0.03672546 0.01458473</span></span>
<span><span class="co">#&gt;  [6,] 0.03043691 0.007734717 0.04110070 0.01632226</span></span>
<span><span class="co">#&gt;  [7,] 0.11805533 0.030000572 0.15941687 0.06330898</span></span>
<span><span class="co">#&gt;  [8,] 0.10339309 0.026274560 0.13961761 0.05544613</span></span>
<span><span class="co">#&gt;  [9,] 0.05958922 0.015142990 0.08046673 0.03195563</span></span>
<span><span class="co">#&gt; [10,] 0.02018380 0.005129168 0.02725534 0.01082387</span></span>
<span><span class="co">#&gt; [11,] 0.07246036 0.018413841 0.09784737 0.03885798</span></span>
<span><span class="co">#&gt; [12,] 0.04798303 0.012193591 0.06479423 0.02573164</span></span>
<span><span class="co">#&gt; [13,] 0.11896119 0.021161541 0.11244808 0.04465634</span></span>
<span><span class="co">#&gt; [14,] 0.02116154 0.007682334 0.02857564 0.01134820</span></span>
<span><span class="co">#&gt; [15,] 0.11244808 0.028575640 0.21692153 0.06030201</span></span>
<span><span class="co">#&gt; [16,] 0.04465634 0.011348201 0.06030201 0.03421092</span></span>
<span><span class="va">V_vcalc_constant</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cov2cor</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; 16 x 16 sparse Matrix of class "dsCMatrix"</span></span>
<span><span class="co">#&gt;                                                                      </span></span>
<span><span class="co">#&gt;  [1,] 1.0 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7</span></span>
<span><span class="co">#&gt;  [2,] 0.7 1.0 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7</span></span>
<span><span class="co">#&gt;  [3,] 0.7 0.7 1.0 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7</span></span>
<span><span class="co">#&gt;  [4,] 0.7 0.7 0.7 1.0 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7</span></span>
<span><span class="co">#&gt;  [5,] 0.7 0.7 0.7 0.7 1.0 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7</span></span>
<span><span class="co">#&gt;  [6,] 0.7 0.7 0.7 0.7 0.7 1.0 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7</span></span>
<span><span class="co">#&gt;  [7,] 0.7 0.7 0.7 0.7 0.7 0.7 1.0 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7</span></span>
<span><span class="co">#&gt;  [8,] 0.7 0.7 0.7 0.7 0.7 0.7 0.7 1.0 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7</span></span>
<span><span class="co">#&gt;  [9,] 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 1.0 0.7 0.7 0.7 0.7 0.7 0.7 0.7</span></span>
<span><span class="co">#&gt; [10,] 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 1.0 0.7 0.7 0.7 0.7 0.7 0.7</span></span>
<span><span class="co">#&gt; [11,] 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 1.0 0.7 0.7 0.7 0.7 0.7</span></span>
<span><span class="co">#&gt; [12,] 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 1.0 0.7 0.7 0.7 0.7</span></span>
<span><span class="co">#&gt; [13,] 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 1.0 0.7 0.7 0.7</span></span>
<span><span class="co">#&gt; [14,] 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 1.0 0.7 0.7</span></span>
<span><span class="co">#&gt; [15,] 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 1.0 0.7</span></span>
<span><span class="co">#&gt; [16,] 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 0.7 1.0</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="long-and-wide-format-data">Long and wide format data<a class="anchor" aria-label="anchor" href="#long-and-wide-format-data"></a>
</h3>
<p>Begge formater har hver deres ulemper. Man skal skrive mindre kode,
når man beregner effektstørrelser med long format data, men man har
dermed også et datasæt som i antal af rækker ikke passer sammen med den
endelige effektstørrelsesdata. Omvendt, kræver det længere koder at kode
wide format data, men her får man tilgengæld også et datasæt som passer
i antal med dette endelige effektstørrelses datasæt. På mange af vores
andre review indtastes den raw data (som den fra Tabel 1) direkte i
excel i stedet for i R. Det kan igen måde have fordele og ulemper. Ved
at indtaste det studie for studie i R, bliver det noget tydeligere for
læsere, hvor man præcist har udtrykket data, men det kræver også at man
skriver langt, langt flere koder, som på mange måder kan være meget
tidskrævende. Igen det er meget en smagssag.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span></span>
<span>  <span class="va">Fisher1996</span>,</span>
<span>  values_from <span class="op">=</span> <span class="va">m_pre</span><span class="op">:</span><span class="va">v</span>,</span>
<span>  names_from <span class="op">=</span> <span class="va">treatment</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="visualize-effect-size-data">Visualize effect size data<a class="anchor" aria-label="anchor" href="#visualize-effect-size-data"></a>
</h2>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">Fisher1996_est</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">study</span><span class="op">:</span><span class="va">diff_c</span>, <span class="va">J</span><span class="op">)</span>,</span>
<span>    names_to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'.value'</span>, <span class="st">'Category'</span><span class="op">)</span>, </span>
<span>    names_sep <span class="op">=</span> <span class="st">'_'</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    CI_L <span class="op">=</span> <span class="va">es</span> <span class="op">-</span> <span class="va">se</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">qnorm</a></span><span class="op">(</span><span class="fl">.975</span><span class="op">)</span>,</span>
<span>    CI_U <span class="op">=</span> <span class="va">es</span> <span class="op">+</span> <span class="va">se</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">qnorm</a></span><span class="op">(</span><span class="fl">.975</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">treatment</span> <span class="op">==</span> <span class="st">"Cognitive"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">es</span>, y <span class="op">=</span> <span class="va">Category</span>, xmin <span class="op">=</span> <span class="va">CI_L</span>, xmax <span class="op">=</span> <span class="va">CI_U</span>,</span>
<span>        color <span class="op">=</span> <span class="va">Category</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html" class="external-link">geom_pointrange</a></span><span class="op">(</span>position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_dodge.html" class="external-link">position_dodge2</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.5</span>, padding <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fl">0</span>, linetype <span class="op">=</span> <span class="st">"dashed"</span>, color <span class="op">=</span> <span class="st">"black"</span>, alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html" class="external-link">facet_grid</a></span><span class="op">(</span><span class="va">setting</span><span class="op">~</span><span class="va">outcome</span>, scales <span class="op">=</span> <span class="st">"free"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Effect size type"</span><span class="op">)</span></span>
<span>  </span></code></pre></div>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-Fisher1996" class="csl-entry">
Fisher, M. S, and K. J Bentley. 1996. <span>“<span class="nocase">Two
group therapy models for clients with a dual diagnosis of substance
abuse and personality disorder</span>.”</span> <em>Psychiatric Services
(Washington, D.C.)</em> 47 (11): 1244–50. <a href="https://doi.org/10.1176/ps.47.11.1244" class="external-link">https://doi.org/10.1176/ps.47.11.1244</a>.
</div>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mikkel H. Vembye.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
